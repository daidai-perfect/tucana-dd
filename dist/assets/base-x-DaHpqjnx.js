function O(l){if(l.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),U=0;U<d.length;U++)d[U]=255;for(var A=0;A<l.length;A++){var b=l.charAt(A),y=b.charCodeAt(0);if(d[y]!==255)throw new TypeError(b+" is ambiguous");d[y]=A}var g=l.length,E=l.charAt(0),s=Math.log(g)/Math.log(256),M=Math.log(256)/Math.log(g);function C(r){if(r instanceof Uint8Array||(ArrayBuffer.isView(r)?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):Array.isArray(r)&&(r=Uint8Array.from(r))),!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(r.length===0)return"";for(var e=0,w=0,t=0,h=r.length;t!==h&&r[t]===0;)t++,e++;for(var f=(h-t)*M+1>>>0,n=new Uint8Array(f);t!==h;){for(var i=r[t],o=0,a=f-1;(i!==0||o<w)&&a!==-1;a--,o++)i+=256*n[a]>>>0,n[a]=i%g>>>0,i=i/g>>>0;if(i!==0)throw new Error("Non-zero carry");w=o,t++}for(var v=f-w;v!==f&&n[v]===0;)v++;for(var p=E.repeat(e);v<f;++v)p+=l.charAt(n[v]);return p}function z(r){if(typeof r!="string")throw new TypeError("Expected String");if(r.length===0)return new Uint8Array;for(var e=0,w=0,t=0;r[e]===E;)w++,e++;for(var h=(r.length-e)*s+1>>>0,f=new Uint8Array(h);r[e];){var n=d[r.charCodeAt(e)];if(n===255)return;for(var i=0,o=h-1;(n!==0||i<t)&&o!==-1;o--,i++)n+=g*f[o]>>>0,f[o]=n%256>>>0,n=n/256>>>0;if(n!==0)throw new Error("Non-zero carry");t=i,e++}for(var a=h-t;a!==h&&f[a]===0;)a++;for(var v=new Uint8Array(w+(h-a)),p=w;a!==h;)v[p++]=f[a++];return v}function N(r){var e=z(r);if(e)return e;throw new Error("Non-base"+g+" character")}return{encode:C,decodeUnsafe:z,decode:N}}var R=O;export{R as s};
