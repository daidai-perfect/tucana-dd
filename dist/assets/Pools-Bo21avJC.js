import{j as e,r as c}from"./react-CxzTU07i.js";import{O as We,T as Ye}from"./@initia-CP5FTFDk.js";import{V as ro,W as io,X as ao,Y as lo,h as De,q as de,Z as Ue,J as ye,_ as me,I as se,H as qe,m as Pe,$ as le,S as co,M as xo,d as Y,a0 as po,k as uo,T as ho,s as go,c as Ve,a1 as ze,a2 as fo,n as $e,a3 as He,U as jo}from"./App-Cb960mne.js";import"./bn.js-CjHYPH1W.js";import{u as mo,I as Co,V as I,f as k,F as L,l as To,T as g,a9 as Ge,aa as Je,ab as Xe,j as Ce,ac as G,i as Ze,k as J,S as wo,a2 as be,H as M,B as ce,M as Ke,w as Qe,x as Oe,y as So,a as yo,n as bo,o as Po,p as ko}from"./@chakra-ui-F3U2dpjw.js";import{H as eo,u as Lo}from"./useStatsData-OWdT72AP.js";import{T as ke}from"./TableCardH5-CxOqm6xI.js";import{g as oo,a as Ao}from"./apiDataProcessing-DjMQcQv4.js";import{L as ue}from"./TopPools-BIEPAjdb.js";import{S as j,a as _o,u as vo}from"./usePoolList-D7LBbYQN.js";import{u as no}from"./useApiUrl-BWcjgV84.js";import{A as Ro}from"./AprTooltip-CF9YBoS1.js";import{u as Ae}from"./useWindowWidth-DaYijioX.js";import{u as Do}from"./react-intersection-observer-jXIP5-t1.js";import{c as _e,f as Eo}from"./react-router-COZMEyo_.js";import{u as ve}from"./position-DDE7YBux.js";import{u as Fo,a as Io,b as Ee,c as to}from"./useClaim-DXOTPVg0.js";import{P as No,R as Vo}from"./RectangularTab-scmnr4k8.js";import{T as Me,P as zo,u as $o,a as Q,b as Ho}from"./useSearchPools-Cn_Tjnrw.js";import"./numbro-DbF9-lIv.js";import"./@improbable-eng-BU3rlaSz.js";import"./axios-BGrCQLb0.js";import"./vite-plugin-node-polyfills-2b3IylRN.js";import"./browser-headers-DaTTBGKg.js";import"./long-Bd8Jk2Sf.js";import"./@protobufjs-BFfFlHHM.js";import"./bignumber.js-CTO8iJYk.js";import"./jscrypto-DOxZ2vL9.js";import"./crypto-browserify-K7vti8ry.js";import"./randombytes-cxG1aiJq.js";import"./safe-buffer-B7h8REzA.js";import"./create-hash-B2etqZ4B.js";import"./inherits-BlmhoU4v.js";import"./md5.js-FaoCCiYs.js";import"./hash-base-Bol-vuw1.js";import"./events-BYvclee5.js";import"./util-mxsps8Rg.js";import"./is-arguments-CSFfgC6i.js";import"./has-tostringtag-BVm4gedm.js";import"./has-symbols-jRi3KFcs.js";import"./call-bind-B07GZeJl.js";import"./get-intrinsic-kTO65dkt.js";import"./es-errors-DzOT6E3C.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-DW3CJlDV.js";import"./define-data-property-BYhozZ9n.js";import"./es-define-property-BlMEMvNH.js";import"./gopd-rUakIY3f.js";import"./has-property-descriptors-B3Yvk56Z.js";import"./is-generator-function-DtmjroQB.js";import"./which-typed-array-DjIYTpty.js";import"./for-each-HDM-_-W4.js";import"./is-callable-ajMm-eR9.js";import"./available-typed-arrays-lJejVQbB.js";import"./possible-typed-array-names-ZWAIzZ1Z.js";import"./is-typed-array-BI6k7hxc.js";import"./util-deprecate-DPVjTvyT.js";import"./string_decoder-0MzJkBYb.js";import"./ripemd160-C1CpqImb.js";import"./sha.js-BDwlQsPx.js";import"./cipher-base-7AdYGBPO.js";import"./stream-browserify-BfQl1BUK.js";import"./create-hmac--QaKJlMo.js";import"./browserify-sign-GWTZlE0Z.js";import"./process-nextick-args-qzFE9GA4.js";import"./core-util-is-BRatBjl-.js";import"./browserify-rsa-CryRCbDk.js";import"./elliptic-CmlQxMT_.js";import"./minimalistic-assert-DDtZfRm3.js";import"./minimalistic-crypto-utils-BXubSNmL.js";import"./brorand-BrlY5gS_.js";import"./hash.js-itZKbfbK.js";import"./hmac-drbg-oB7aodci.js";import"./parse-asn1-DRtj1sMn.js";import"./asn1.js-BnSaV4mo.js";import"./vm-browserify-B6h6MQBh.js";import"./evp_bytestokey-Dyx8YxuJ.js";import"./browserify-aes-BUcIY7yD.js";import"./buffer-xor-De43xBeM.js";import"./pbkdf2-C-6u4RPY.js";import"./browserify-cipher-DYIcwHfU.js";import"./browserify-des-SXPfahZ7.js";import"./des.js-CDfWU-Dy.js";import"./diffie-hellman-Cjh9VIAB.js";import"./miller-rabin-D0hA1ZTO.js";import"./create-ecdh-BozzoSuA.js";import"./public-encrypt-Dmci0MFY.js";import"./randomfill-Cz20fUZ8.js";import"./keccak256-BDyJSpAN.js";import"./keccak-C1V6dJ9R.js";import"./bech32-MFBNfINK.js";import"./bs58-B7XvzY3E.js";import"./base-x-DaHpqjnx.js";import"./bip32-rT_4MDJf.js";import"./bs58check-DBgRgCjV.js";import"./tiny-secp256k1-DFomSNDX.js";import"./typeforce-Dson3yfq.js";import"./wif-Bj2Vat9l.js";import"./bip39-D04lJivS.js";import"./@noble-niMs0PSV.js";import"./secp256k1-BRtDzKq7.js";import"./ws-DLAd0t_s.js";import"./semver-DcF-0Uum.js";import"./@ledgerhq-BR4K6VrK.js";import"./react-router-dom-DspqRS0x.js";import"./react-dom-D0CDEAqu.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-CA71pd9M.js";import"./index-oyaI18XQ.js";import"./lodash.mergewith-0oSak3fd.js";import"./framesync-BLa_7oTh.js";import"./@emotion-Ci8Bc0jK.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./@babel-Ds7TnLC8.js";import"./stylis-YPZU7XtI.js";import"./color2k-BSHHkqKj.js";import"./framer-motion-DN1fNAS_.js";import"./react-focus-lock-CdsTnkdS.js";import"./focus-lock-C3lLyJ0E.js";import"./use-sidecar-Mnt-C9DP.js";import"./use-callback-ref-BUZizod5.js";import"./react-clientside-effect-C1WRooe2.js";import"./react-remove-scroll-XbdGFyuF.js";import"./react-remove-scroll-bar-B8WFODEn.js";import"./react-style-singleton-BMjn4bnO.js";import"./get-nonce-C-Z93AgS.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@zag-js-BxxExxl0.js";import"./@popperjs-BQBsAJpH.js";import"./react-fast-compare-ZNZLWkFJ.js";import"./decimal.js-g2JQ_dxE.js";import"./dayjs-ChilDtai.js";import"./copy-to-clipboard-BEgmPfpW.js";import"./toggle-selection-BHUZwh74.js";import"./zustand--BHpADek.js";import"./@tucana-network-DgPNddlX.js";import"./cosmjs-types-HHI3LIsf.js";import"./recharts-BEhUgXe7.js";import"./clsx-B-dksMZM.js";import"./lodash-CF7ZZEzc.js";import"./react-smooth-CJ-TEnHD.js";import"./prop-types-DJYhzm_d.js";import"./fast-equals-C7I1S-bJ.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-C66BBtZo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-CWG3-CEL.js";import"./d3-scale-CaKF3Vy_.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-EePf7Sik.js";import"./d3-time-format-CKRkqwF6.js";import"./d3-time-nQs4M9wC.js";import"./d3-interpolate-m1gjL8b6.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-DiOBu8nk.js";import"./decimal.js-light-B5-9uEc-.js";import"./BackButton-CQFe92gG.js";import"./useGetTokenInfo-Cwtmo1XH.js";function Mo(f){const{showTag:h=!1}=f,{colorMode:u}=mo();return e.jsx(e.Fragment,{children:h&&e.jsx(Co,{src:u=="dark"?ro:io,fallbackSrc:u=="dark"?ao:lo,w:"20px",h:"20px"})})}function Bo(f){const{textList:h,onChange:u,currentTab:r}=f;return e.jsx(I,{gap:"0",children:h==null?void 0:h.map(t=>e.jsx(k,{h:"64px",lineHeight:"64px",borderRadius:"12px 0px 0px 12px",w:r==t.text?"205px":"180px",ml:r==t.text?"0px":"25px",fontSize:r==t.text?"md":"sm",bg:r==t.text?"primary":"card_bg",pl:r==t.text?"30px":"20px",color:r==t.text?"input_bg":"text_paragraph",cursor:"pointer",onClick:()=>{u(t.text)},sx:{_hover:{color:r==t.text?"input_bg":"primary"},"@media screen and (max-width: 1100px)":{w:r==t.text?"180px":"155px"},"@media screen and (max-width: 950px)":{w:r==t.text?"170px":"145px",pl:r==t.text?"22px":"12px"}},children:t.text},t.text))})}function Le(f){const{text:h,value:u,fontWeight:r,height:t,isLoading:s}=f;return e.jsxs(I,{justifyContent:"center",gap:"4px",children:[!u||s?e.jsx(L,{height:t||"",align:"center",children:e.jsx(To,{})}):e.jsx(g,{color:"primary",fontSize:"2xl",fontWeight:r||"400",children:u}),e.jsx(g,{fontSize:"xs",children:h})]})}function Wo(f){const h=De(),u=_e(),{isImportToken:r}=no(),{filterPoolList:t,currOrderBy:s,handleSortChange:d,lordMoreLoading:p,hasNextPage:i,loadNextPage:_}=f,{poolListIsLoading:m}=de(),[a,C]=Do({triggerOnce:!1});c.useEffect(()=>{!m&&!p&&i&&C&&_()},[C]),c.useEffect(()=>{console.log("PoolList filterPoolList: ",t)},[t]);const[S,E]=c.useState("desc"),[x,A]=c.useState("-vol"),T=(o,w)=>{if(o===s)return"asc";if(s===w)return"desc"},b=[{label:"Liquidity",value:"pure_tvl"},{label:"Volume (24H)",value:"vol"},{label:"APR (24H)",value:"apr"}],B=o=>{console.log("ðŸš€ ~ h5SortingFieldClick ~ value:",x,o),x!=o&&(A("-"+o),E("desc"),d("-"+o))},$=o=>{console.log("ðŸš€ ~ h5SortClick ~ value:",o,o.split("-"),o.includes("-")),A(o.includes("-")?o.split("-")[1]:"-"+o),E(o.includes("-")?"asc":"desc"),d(o.includes("-")?o.split("-")[1]:"-"+o)},v=()=>e.jsx(g,{fontSize:"xs",children:"Pool"}),H=()=>e.jsx(g,{fontSize:"xs",children:"Pool Rewards"}),X=()=>e.jsx(g,{fontSize:"xs",children:"Action"}),U=()=>e.jsxs(L,{align:"center",justifyContent:"flex-end",children:[e.jsx(g,{fontSize:"xs",children:"Liquidity"}),e.jsx(k,{sx:{"@media screen and (max-width: 810px)":{display:"none"}},children:e.jsx(me,{value:T(j.TVL,j.TVL_DESC),onClick:()=>{d(s===j.TVL_DESC?j.TVL:j.TVL_DESC)}})})]}),V=()=>e.jsxs(L,{align:"center",justifyContent:"flex-end",children:[e.jsx(g,{fontSize:"xs",children:"Volume (24H)"}),e.jsx(k,{sx:{"@media screen and (max-width: 810px)":{display:"none"}},children:e.jsx(me,{value:T(j.VOL,j.VOL_DESC),onClick:()=>{d(s===j.VOL_DESC?j.VOL:j.VOL_DESC)}})})]}),N=()=>e.jsxs(L,{align:"center",justifyContent:"flex-end",children:[e.jsx(g,{fontSize:"xs",children:"APR"}),e.jsx(be,{label:"Estimated according to trading activity in the past 24 hours","aria-label":"A tooltip",placement:"right",sx:{"@media screen and (max-width: 810px)":{w:"245px"}},children:e.jsx("button",{children:e.jsx(se,{xlinkHref:"#icon-icon_tips",variant:"grayprimary"})})}),e.jsx(k,{sx:{"@media screen and (max-width: 810px)":{display:"none"}},children:e.jsx(me,{value:T(j.APR,j.APR_DESC),onClick:()=>{d(s===j.APR_DESC?j.APR:j.APR_DESC)}})})]}),O=o=>{var w,P,z,ae,K,ee,oe,ne;return e.jsxs(M,{gap:"0px",children:[e.jsx(k,{children:e.jsx(qe,{w:"40px",coinAIconUrl:(w=o==null?void 0:o.displayToken0)==null?void 0:w.image,coinBIconUrl:(P=o==null?void 0:o.displayToken1)==null?void 0:P.image,showATag:r(((z=o==null?void 0:o.displayToken0)==null?void 0:z.metadata)||""),showBTag:r(((ae=o==null?void 0:o.displayToken1)==null?void 0:ae.metadata)||""),variant:"border"})}),e.jsxs(I,{gap:"0px",ml:"8px",align:"flex-start",children:[e.jsxs(M,{children:[e.jsxs(M,{gap:"2px",children:[e.jsx(Pe,{color:"text_caption",fontSize:"md",children:(K=o==null?void 0:o.displayToken0)==null?void 0:K.symbol}),e.jsx(g,{color:"text_caption",fontSize:"md",children:"-"}),e.jsx(Pe,{color:"text_caption",fontSize:"md",children:(ee=o==null?void 0:o.displayToken1)==null?void 0:ee.symbol})]}),e.jsx(be,{label:e.jsx(g,{fontSize:"xs",children:"The pool includes tokens that are not on the frequently traded token list. Please verify the token addresses of the tokens and do your own research before interacting with this pool."}),"aria-label":"Triangle",children:e.jsx("button",{children:e.jsx(Mo,{showTag:r(((oe=o==null?void 0:o.displayToken0)==null?void 0:oe.metadata)||"")||r(((ne=o==null?void 0:o.displayToken1)==null?void 0:ne.metadata)||"")})})})]}),e.jsx(g,{mt:"4px",p:"0px 8px",color:"primary",fontSize:"xs",minW:"52px",textAlign:"center",h:"16px",lineHeight:"16px",borderRadius:"8px",bg:"bg_secondary",children:oo(o==null?void 0:o.feeTier)})]})]})},re=o=>{var w;return e.jsx(g,{color:"text_caption",children:le((w=o==null?void 0:o.pureTvlUSD)==null?void 0:w.now,2)})},R=o=>{var w;return e.jsx(g,{color:"text_caption",children:le((w=o==null?void 0:o.volUSD)==null?void 0:w.day,2)})},Z=o=>{var w;return e.jsx(L,{align:"center",justifyContent:"flex-end",children:(o==null?void 0:o.showFarming)&&((w=o==null?void 0:o.rewarderUSD)==null?void 0:w.map((P,z)=>e.jsx(k,{ml:"4px",children:e.jsx(be,{label:`${Ao(P==null?void 0:P.amountSecond)} ${P==null?void 0:P.symbol}/day`,"aria-label":"Rewarder amount day",placement:"top",children:e.jsx("button",{children:e.jsx(co,{w:"20px",h:"20px",imageUrl:P==null?void 0:P.image})})})},`poolsListRwarderUSD_${z}`)))})},ie=o=>e.jsx(M,{justifyContent:"flex-end",children:e.jsx(Ro,{info:o,children:e.jsx(g,{color:"text_caption",fontSize:"sm",children:xo(o.totalApr?Y(o.totalApr).mul(100).toString():void 0)})})}),xe=o=>e.jsx(ce,{w:"80px",h:"32px",fontSize:"sm",variant:"ghost",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},onClick:()=>{var w,P;return u(`/pools/liquidity/${(w=o==null?void 0:o.displayToken0)==null?void 0:w.metadata}/${(P=o==null?void 0:o.displayToken1)==null?void 0:P.metadata}/${o==null?void 0:o.feeTier}`)},children:"Add"}),he=o=>[{left:U(),right:re(o)},{left:V(),right:R(o)},{left:H(),right:Z(o),rowListNotShow:!(o!=null&&o.showFarming&&(o!=null&&o.rewarderUSD))},{left:N(),right:ie(o)}],{windowWidth:ge}=Ae();return e.jsxs(I,{w:"100%",children:[e.jsx(Ge,{w:"100%",children:ge<=810?e.jsxs(I,{w:"100%",children:[e.jsx(k,{mt:"8px",w:"100%",children:e.jsx(eo,{sortingRule:S,sortingField:x,onSortingFieldClick:o=>B(o),onSortClick:o=>$(o),list:b,isPool:!0})}),m?[{},{},{}].map((o,w)=>e.jsx(I,{w:"100%",children:e.jsx(ke,{LoadingFirstTd:ue(),isLoading:m})},w)):t==null?void 0:t.map((o,w)=>e.jsx(I,{w:"100%",children:e.jsx(ke,{LoadingFirstTd:ue(),isLoading:m,tokensSymbol:O(o),rowList:he(o),btntNode:xe(o)})},o==null?void 0:o.id))]}):e.jsxs(Je,{size:"sm",children:[e.jsxs(Xe,{children:[e.jsxs(Ce,{children:[e.jsxs(G,{children:[" ",v()]}),e.jsx(G,{isNumeric:!0,children:U()}),e.jsx(G,{isNumeric:!0,children:V()}),h.env!=="testnet"&&e.jsx(G,{isNumeric:!0,textAlign:"right",children:H()}),e.jsx(G,{isNumeric:!0,children:N()}),e.jsxs(G,{children:[" ",X()]})]}),e.jsx(Ce,{h:"4px"})]}),m?e.jsx(Ue,{tableList:[{},{},{}],tdList:[{},{},{},{},{}],firstTd:ue()}):e.jsx(Ze,{children:t.map((o,w)=>e.jsxs(Ce,{h:"72px",cursor:"pointer",onClick:()=>{var P,z;return u(`/pools/liquidity/${(P=o==null?void 0:o.displayToken0)==null?void 0:P.metadata}/${(z=o==null?void 0:o.displayToken1)==null?void 0:z.metadata}/${o==null?void 0:o.feeTier}`)},children:[e.jsx(J,{minW:"200px",children:O(o)}),e.jsx(J,{isNumeric:!0,textAlign:"right",children:re(o)}),e.jsx(J,{isNumeric:!0,textAlign:"right",children:R(o)}),h.env!=="testnet"&&e.jsx(J,{isNumeric:!0,children:Z(o)}),e.jsx(J,{isNumeric:!0,textAlign:"right",children:ie(o)}),e.jsx(J,{isNumeric:!0,children:xe(o)})]},`poolListTr_${w}`))})]})}),!m&&(!t||(t==null?void 0:t.length)===0)&&e.jsx(ye,{type:"nodata",text:"No pool found"}),e.jsx("div",{ref:a,style:{height:"0.01px"}}),p&&e.jsx(wo,{})]})}function Yo(){const{getPositionRewards:f}=Fo(),{getPositionFee:h}=Io();de(),Ee();const{getCollectRewardsPaylod:u,getCollectFeePaylod:r}=po(),{signAndExecuteTransaction:t}=uo(),{positionList:s,positionFeeObj:d,posRewardsObj:p,claimAllSubmitLoading:i,positionListLoading:_,setClaimAllSubmitLoading:m}=ve(),{hasFeeAmount:a,hassRewardAmount:C}=to(),S=async()=>{m(!0);try{if((s==null?void 0:s.length)>0){const x=[];console.log("handleSubmitClaimAll positionList: ",s),s.forEach(T=>{if(C(T==null?void 0:T.posId)){const b=u({pid:T==null?void 0:T.posId});x.push(b)}if(a(T==null?void 0:T.posId)){const b=r({pid:T==null?void 0:T.posId});x.push(b)}}),console.log("handleSubmitClaimAll msgs: ",x);const A=await t(x,{action:ho.Claim,description:"Claim all yield"});console.log("handleSubmitClaimAll response: ",A),m(!1),await go(2e3),f(s),h(s)}}catch(x){console.log("handleSubmitClaimAll error: ",x),m(!1)}},E=c.useMemo(()=>{if(i||_||(s==null?void 0:s.length)===0)return!0;if(d){const x=Object.values(d);if(x&&(x!=null&&x.find(A=>Y(A==null?void 0:A.fee0).gt(0)||Y(A==null?void 0:A.fee1).gt(0))))return!1}if(p){const x=Object.values(p);if(x==null?void 0:x.find(T=>{const b=T==null?void 0:T.rewards;if(b&&(b!=null&&b.find(B=>Y(B.amount).gt(0))))return!0}))return!1}return!0},[i,s,d,p]);return{handleSubmitClaimAll:S,isDisabledClaimAllBtn:E}}function Uo(){const f=We(),[h,u]=c.useState("");return{addressChange:c.useMemo(()=>h!==f?(u(f),!0):(u(f),!1),[f]),address:f}}function qo(f){const{onboard:h}=Ye(),{filterList:u}=f,r=_e(),{address:t,addressChange:s}=Uo(),{isImportToken:d}=no(),{poolList:p,poolsObj:i}=de(),{getPositionListData:_,resetPositionListData:m}=Ee(),{positionList:a,positionFeeObj:C,posRewardsObj:S,totalRewards:E,totalPositionFee:x,totalLiquidityPrice:A,liquidityPriceObj:T,positionListLoading:b,claimAllSubmitLoading:B,claimFeeAndRewardsSubmitLoading:$,setCurrentPositionTab:v,positionFeeLoading:H,positionRewardsLoading:X,positionLiquidityPriceLoading:U}=ve();c.useEffect(()=>{(p==null?void 0:p.length)>0&&t?(s&&m(),_(p)):m(),console.log(p,"poolList")},[p,t]),c.useEffect(()=>()=>{m()},[]);const V=c.useMemo(()=>x==="--"||E==="--"?"--":Y(x||"0").add(E||"0").toString(),[x,E]),N=c.useCallback(n=>T&&T[n]||void 0,[T]),[O,re]=c.useState("desc"),[R,Z]=c.useState(j.TVL_DESC),ie=(n,l)=>{if(n===R)return"asc";if(R===l)return"desc"},xe=[{label:"Liquidity",value:"pure_tvl"},{label:"Pending Yield",value:"Yield"}],he=n=>{R!=n&&(Z("-"+n),re("desc"))},ge=n=>{Z(n.includes("-")?n.split("-")[1]:"-"+n),re(n.includes("-")?"asc":"desc")},o=c.useMemo(()=>(u.sort((n,l)=>{if(R===j.TVL||R===j.TVL_DESC){const F=N(n.posId),D=N(l.posId),q=!(F!=null&&F.total)||(F==null?void 0:F.total)==="--"?"0":F==null?void 0:F.total,W=!(D!=null&&D.total)||(D==null?void 0:D.total)==="--"?"0":D==null?void 0:D.total;return R===j.TVL_DESC?Y(W).sub(q).toNumber():Y(q).sub(W).toNumber()}if(R===j.Yield||R===j.Yield_DESC){const F=C==null?void 0:C[n.posId],D=S==null?void 0:S[n.posId],q=Y((F==null?void 0:F.total)||"0").add((D==null?void 0:D.total)||"0").toString(),W=C==null?void 0:C[l.posId],pe=S==null?void 0:S[l.posId],Se=Y((W==null?void 0:W.total)||"0").add((pe==null?void 0:pe.total)||"0").toString(),Ie=q==="--"?"0":q,Ne=Se==="--"?"0":Se;return R===j.Yield_DESC?Y(Ne).sub(Ie).toNumber():Y(Ie).sub(Ne).toNumber()}return 1}),u),[u,T,R]),{handleSubmitClaimAll:w,isDisabledClaimAllBtn:P}=Yo(),{handleSubmitClaimClick:z}=to(),ae=n=>{const l=N(n.posId);return e.jsx(No,{status:l==null?void 0:l.status,isActive:(l==null?void 0:l.status)==="Active"})},K=()=>e.jsx(g,{fontSize:"xs",children:"Position"}),ee=()=>e.jsx(g,{fontSize:"xs",children:"Price Range"}),oe=()=>e.jsxs(L,{align:"center",justifyContent:"flex-end",children:[e.jsx(g,{fontSize:"xs",children:"Liquidity"}),e.jsx(k,{sx:{"@media screen and (max-width: 810px)":{display:"none"}},children:t&&(a==null?void 0:a.length)>0&&e.jsx(me,{value:ie(j.TVL,j.TVL_DESC),onClick:()=>{Z(R===j.TVL_DESC?j.TVL:j.TVL_DESC)}})})]}),ne=()=>e.jsxs(L,{align:"center",justifyContent:"flex-end",children:[e.jsx(g,{fontSize:"xs",children:"Pending Yield"}),e.jsx(k,{sx:{"@media screen and (max-width: 810px)":{display:"none"}},children:t&&(a==null?void 0:a.length)>0&&e.jsx(me,{value:ie(j.Yield,j.Yield_DESC),onClick:()=>{Z(R===j.Yield_DESC?j.Yield:j.Yield_DESC)}})})]}),te=()=>e.jsx(g,{fontSize:"xs",children:"Actions"}),fe=n=>{var l,F,D,q,W;return e.jsxs(M,{gap:"0px",children:[e.jsx(k,{children:e.jsx(qe,{w:"40px",coinAIconUrl:(l=n==null?void 0:n.displayToken0)==null?void 0:l.image,coinBIconUrl:(F=n==null?void 0:n.displayToken1)==null?void 0:F.image,variant:"border",showATag:d((D=n==null?void 0:n.displayToken0)==null?void 0:D.metadata),showBTag:d((q=n==null?void 0:n.displayToken1)==null?void 0:q.metadata)})}),e.jsxs(I,{gap:"0px",ml:"8px",align:"flex-start",children:[e.jsxs(M,{gap:"0px",children:[e.jsx(Pe,{color:"text_caption",children:n==null?void 0:n.displayToken0.symbol}),e.jsx(g,{color:"text_caption",children:"-"}),e.jsx(Pe,{color:"text_caption",mr:"2px",children:(W=n==null?void 0:n.displayToken1)==null?void 0:W.symbol}),e.jsxs(g,{ml:"5px",color:"text_caption",children:["LPï¼ˆ#",n==null?void 0:n.position_index,"ï¼‰"]})]}),e.jsx(g,{mt:"4px",p:"0px 8px",color:"primary",fontSize:"xs",minW:"52px",textAlign:"center",h:"16px",lineHeight:"16px",borderRadius:"8px",bg:"bg_secondary",children:oo(n==null?void 0:n.feeTier)})]})]})},je=n=>e.jsxs(L,{align:"center",justifyContent:"flex-end",sx:{"@media screen and (max-width: 810px)":{alignItems:"flex-end",flexDirection:"column-reverse"}},children:[e.jsxs(L,{flexWrap:"wrap",align:"center",justifyContent:"flex-end",mr:"8px",sx:{"@media screen and (max-width: 810px)":{mr:"0",lineHeight:"16px"}},children:[e.jsx(g,{color:"text_caption",whiteSpace:"wrap",lineHeight:"1",children:n==null?void 0:n.minPrice}),"Â ",e.jsx(se,{xlinkHref:"#icon-icon_range"}),"Â ",e.jsx(g,{color:"text_caption",whiteSpace:"wrap",lineHeight:"1",children:n==null?void 0:n.maxPrice})]}),Re>810&&ae(n)]}),Te=n=>e.jsxs(e.Fragment,{children:[" ",ae(n)]}),y=n=>{var D,q,W,pe;const l=N(n==null?void 0:n.posId),F=(n==null?void 0:n.displayToken0.metadata)!==(n==null?void 0:n.token0.metadata);return e.jsx(be,{label:e.jsxs(I,{gap:"12px",p:"4px 0",minW:"240px",flexDirection:F?"column-reverse":"column",children:[e.jsx(Me,{icon:((D=l==null?void 0:l.token0)==null?void 0:D.image)||"",amount:(l==null?void 0:l.coinAmount0)||"0",amountValue:(l==null?void 0:l.coinAmount0Rate)||"--",symbol:((q=l==null?void 0:l.token0)==null?void 0:q.symbol)||""}),e.jsx(Me,{icon:((W=l==null?void 0:l.token1)==null?void 0:W.image)||"",amount:(l==null?void 0:l.coinAmount1)||"0",amountValue:(l==null?void 0:l.coinAmount1Rate)||"--",symbol:((pe=l==null?void 0:l.token1)==null?void 0:pe.symbol)||""})]}),"aria-label":"Liquidity",children:e.jsx("button",{onClick:Se=>{Ve(Se)},children:e.jsx(g,{color:"text_caption",textDecoration:"underline dotted",dangerouslySetInnerHTML:{__html:`${le(l==null?void 0:l.total,2)}`}})})})},we=n=>e.jsx(zo,{isReverse:(n==null?void 0:n.displayToken0.metadata)!==(n==null?void 0:n.token0.metadata),claimLoading:$,feeObj:C==null?void 0:C[n.posId],rewardsObj:S==null?void 0:S[n.posId],showFarming:n.showFarming,handleClaimClick:function(){z(n)}}),Fe=n=>e.jsxs(L,{sx:{"@media screen and (max-width: 810px)":{justifyContent:"space-between",w:"100%"}},children:[e.jsx(ce,{w:"80px",h:"32px",fontSize:"sm",variant:"ghost",onClick:()=>{v("increase"),r(`/position/${n==null?void 0:n.pool_address}/${n==null?void 0:n.posId}`)},sx:{"@media screen and (max-width: 810px)":{w:"48%"}},children:"Add"}),e.jsx(ce,{w:"80px",h:"32px",fontSize:"sm",variant:"ghost",ml:"8px",onClick:l=>{Ve(l),v("remove"),r(`/position/${n==null?void 0:n.pool_address}/${n==null?void 0:n.posId}`)},sx:{"@media screen and (max-width: 810px)":{w:"48%"}},children:"Remove"})]}),so=n=>[{leftText:"Status",right:Te(n)},{left:ee(),right:je(n)},{left:oe(),right:y(n)},{left:ne(),right:we(n)}],{windowWidth:Re}=Ae();return e.jsxs(I,{w:"100%",children:[t&&e.jsxs(L,{w:"100%",h:"100px",align:"center",justifyContent:"space-around",borderRadius:"20px",bg:"card_bg",backdropFilter:"blur(10px)",mb:"20px",sx:{"@media screen and (max-width: 810px)":{h:"unset",flexDirection:"column",p:"16px 0",mb:"0px"}},children:[e.jsx(Le,{text:"Total Position Value",value:le(A,2),isLoading:U||b,height:"36px"}),Re<=810&&e.jsx(k,{h:"12px"}),e.jsxs(L,{align:"center",children:[e.jsx(Le,{text:"Pending Yield",value:le(V,2),isLoading:H||X||b,height:"36px"}),e.jsx(ce,{w:"80px",h:"28px",borderRadius:"8px",ml:"24px",fontSize:"xs",isLoading:B,isDisabled:P||H||X||b,onClick:w,children:"Claim All"})]})]}),e.jsx(Ge,{w:"100%",children:Re<=810?e.jsxs(I,{w:"100%",children:[e.jsx(k,{mt:"8px",w:"100%",children:e.jsx(eo,{sortingRule:O,sortingField:R,onSortingFieldClick:n=>he(n),onSortClick:n=>ge(n),list:xe,isPool:!0})}),b?[{},{},{}].map((n,l)=>e.jsx(I,{w:"100%",children:e.jsx(ke,{LoadingFirstTd:ue(),isLoading:b})},l)):a==null?void 0:a.map((n,l)=>e.jsx(I,{w:"100%",children:e.jsx(ke,{LoadingFirstTd:ue(),isLoading:b,tokensSymbol:fe(n),rowList:so(n),btntNode:Fe(n)})},n==null?void 0:n.posId))]}):e.jsxs(Je,{size:"sm",children:[e.jsx(Xe,{children:e.jsxs(Ce,{children:[e.jsx(G,{children:K()}),e.jsx(G,{textAlign:"right",children:ee()}),e.jsx(G,{textAlign:"right",isNumeric:!0,children:oe()}),e.jsx(G,{textAlign:"right",children:ne()}),e.jsx(G,{children:te()})]})}),b?e.jsx(Ue,{tableList:[{},{},{}],tdList:[{},{},{},{}],firstTd:ue()}):e.jsx(Ze,{children:o==null?void 0:o.map((n,l)=>e.jsxs(Ce,{h:"72px",cursor:"pointer",onClick:()=>{v("increase"),r(`/position/${n==null?void 0:n.pool_address}/${n==null?void 0:n.posId}`)},children:[e.jsx(J,{minW:"200px",children:fe(n)}),e.jsx(J,{children:je(n)}),e.jsx(J,{isNumeric:!0,textAlign:"right",children:y(n)}),e.jsx(J,{children:we(n)}),e.jsxs(J,{isNumeric:!0,children:[" ",Fe(n)]})]},n.posId))})]})}),!b&&!t?e.jsx(ye,{type:"nowallet",onboard:h}):null,!b&&t&&(a==null?void 0:a.length)===0?e.jsx(ye,{type:"nodata",text:"You have no liquidity positions"}):null,!b&&t&&(a==null?void 0:a.length)>0&&u.length===0?e.jsx(ye,{type:"nodata",text:"No position found"}):null]})}function Go(f){const{setSelectTab:h}=de(),{w:u,h:r,bg:t,current:s,poolsCurrentTab:d,list:p,onClick:i}=f,_=m=>{i(m)};return e.jsx(Ke,{children:({isOpen:m})=>e.jsxs(e.Fragment,{children:[e.jsx(Qe,{p:"0 12px",isActive:m,as:ce,bg:"bg_secondary",borderRadius:"16px",w:u,h:r,backdropFilter:"blur(10px)",sx:{_hover:{opacity:"0.8"},_active:{bg:"bg_secondary"}},children:e.jsxs(L,{align:"center",justifyContent:"space-between",children:[e.jsx(g,{color:"text_caption",children:d==="Create a Pool"?(s==null?void 0:s.display)||"Select":s==null?void 0:s.display}),e.jsx(se,{xlinkHref:"#icon-icon_open",variant:"gray",transition:"transform 0.5s",transform:m?"rotate(180deg)":"rotate(0deg)"})]})}),e.jsx(Oe,{p:"4px",opacity:"1",w:u,bg:t||"select_token_bg",children:p.map(a=>e.jsx(So,{w:"100%",h:"32px",bg:a.fee==(s==null?void 0:s.fee)?"primary_10":"",borderRadius:"12px",sx:{_hover:{bg:d==="Add liquidity"&&a.text=="Not Created"||d==="Create a Pool"&&a.text=="Created"?"none":"primary_10",p:{color:d==="Add liquidity"&&a.text=="Not Created"||d==="Create a Pool"&&a.text=="Created"?"none":"primary"}}},onClick:d==="Add liquidity"&&a.text=="Not Created"||d==="Create a Pool"&&a.text=="Created"?()=>{h("Create a Pool"),_(a)}:()=>{_(a)},children:e.jsxs(L,{w:"100%",align:"center",justifyContent:"space-between",children:[e.jsx(g,{color:a.fee==(s==null?void 0:s.fee)?"primary":"",children:a.display}),d==="Add liquidity"&&a.text=="Not Created"||d==="Create a Pool"&&a.text=="Created"?e.jsx(g,{fontSize:"xs",color:a.fee==(s==null?void 0:s.fee)?"primary":"",children:a.text}):null]})},a.fee))})]})})}function Jo(f){const h=De(),{setSelectTab:u,selectTab:r,selectTabTokenA:t,selectTabTokenB:s,setSelectTabTokenA:d,setSelectTabTokenB:p}=de(),{currentFee:i,changeFee:_}=f,{tokenA:m,tokenB:a}=h.liquidity,C=_e(),[S,E]=c.useState(!1),{feeTierDistribution:x,feeTierDistributionLoading:A}=$o(t,s);c.useEffect(()=>{d(m),p(a)},[]),c.useEffect(()=>{x&&x[i==null?void 0:i.fee]>=0?(r=="Create a Pool"&&u("Add liquidity"),E(!0)):E(!1)},[i,x]),c.useEffect(()=>{var v,H,X;if(console.log("SelectBlock feeTierDistribution11: ",x),x&&r=="Add liquidity"){const U=Object.entries(x).map(([V,N])=>({lable:V,value:N})).sort((V,N)=>N.value-V.value);if(((v=U[0])==null?void 0:v.value)>=0){const V={fee:(H=U[0])==null?void 0:H.lable,display:((X=U[0])==null?void 0:X.lable)/1e4+"%",text:"Created"};_(V)}else _(null)}},[x,r]);const T=c.useMemo(()=>[{fee:"100",display:"0.01%",text:x[100]<0?"Not Created":"Created"},{fee:"500",display:"0.05%",text:x[500]<0?"Not Created":"Created"},{fee:"2500",display:"0.25%",text:x[2500]<0?"Not Created":"Created"},{fee:"10000",display:"1%",text:x[1e4]<0?"Not Created":"Created"}],[x]),b=v=>{v.metadata===(s==null?void 0:s.metadata)&&p(void 0),d(v)},B=v=>{v.metadata===(t==null?void 0:t.metadata)&&d(void 0),p(v)},{windowWidth:$}=Ae();return e.jsxs(M,{gap:"28px",p:"0 40px",w:"862px",h:"128px",borderRadius:"0 20px 20px 0",bg:"card_bg",backdropFilter:"blur(10px)",justify:"space-between",sx:{"@media screen and (max-width: 1100px)":{w:"730px",gap:"16px",p:"0 20px"},"@media screen and (max-width: 950px)":{w:"600px"},"@media screen and (max-width: 810px)":{w:"100%",display:"flex",flexDirection:"column",borderRadius:"16px",mt:"8px",h:"276px",p:"12px"}},children:[e.jsxs(I,{align:"flex-start",justify:"center",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:[e.jsx(g,{children:"Select a token"}),e.jsx(ze,{showPopoverUI:!1,select_bg:"bg_secondary",current:t,onChange:b,fontSize:"14px",w:$<=810?"100%":$<=950?"130px":$<=1100?"200px":"220px",h:"32px",borderRadius:"16px",p:"12px 4px",gap:"8px"})]}),e.jsxs(I,{align:"flex-start",justify:"center",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:[e.jsx(g,{children:"Select a token"}),e.jsx(ze,{showPopoverUI:!1,select_bg:"bg_secondary",current:s,onChange:B,w:$<=810?"100%":$<=950?"130px":$<=1100?"200px":"220px",h:"32px",fontSize:"14px",borderRadius:"16px",p:"12px 4px",gap:"8px"})]}),e.jsxs(I,{align:"flex-start",justify:"center",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:[e.jsx(g,{children:"Fee tier"}),e.jsx(Go,{w:$<=810?"100%":"96px",h:"32px",poolsCurrentTab:r,current:i,list:T,onClick:v=>{console.log("SelectBlock feeTier change item: ",v),_(v)}})]}),e.jsx(L,{align:"center",cursor:"pointer",onClick:()=>{S&&r==="Create a Pool"||r==="Add liquidity"?C(`/pools/liquidity/${t==null?void 0:t.metadata}/${s==null?void 0:s.metadata}/${i==null?void 0:i.fee}`):(console.log(`/pools/create/${t==null?void 0:t.metadata}/${s==null?void 0:s.metadata}/${i==null?void 0:i.fee}`),C(`/pools/create/${t==null?void 0:t.metadata}/${s==null?void 0:s.metadata}/${i==null?void 0:i.fee}`))},children:e.jsxs(ce,{isDisabled:!t||!s||!i||S&&r==="Create a Pool",variant:"link",textDecoration:"unset !important",color:"primary",sx:{"@media screen and (max-width: 950px)":{fontSize:"sm"}},children:[S&&r==="Create a Pool"||r==="Add liquidity"?"Add liquidity":"Create a Pool",e.jsx(se,{xlinkHref:"#icon-icon_arrow"})]})})]})}const Xo=f=>{const{isOpen:h,setIsOpen:u,searchText:r,onChange:t,placeholder:s}=f;return e.jsx(M,{alignItems:"center",position:"relative",w:"100%",children:h&&e.jsx(yo,{w:"100%",children:e.jsxs(M,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(bo,{w:"100%",children:[e.jsx(Po,{justifyContent:"center",children:e.jsx(se,{mt:"8px",xlinkHref:"#icon-icon_search",marginLeft:"10px"})}),e.jsx(ko,{h:"35px",w:"100%",pl:"34px",pr:"32px",placeholder:s,variant:"outline",fontSize:"12px",borderRadius:"8px",value:r,onChange:d=>{t(d.target.value)}})]}),r?e.jsx(k,{position:"absolute",right:"10px",onClick:()=>t(""),children:e.jsx(se,{xlinkHref:"#icon-icon_closure",variant:"gray"})}):null]})})})},Be=Xo;function Zo(f){const{searchText:h}=f,u=We(),{positionList:r}=ve();return{filterPositionList:c.useMemo(()=>{const s=h.trim().toLowerCase();return u.length===0?[]:s.length===0?r:r.filter(d=>{const p=d.token0.symbol.toLowerCase(),i=d.token1.symbol.toLowerCase(),_=d.posId.toLowerCase(),m=p.includes(s)||i.includes(s)||s.length>10&&_.includes(s);if(m)return m;const a=fo(s);let C,S;return a.length>0&&(C=a[0]),a.length===2&&(S=a[1]),C&&S?p.includes(C)&&i.includes(S)||p.includes(S)&&i.includes(C):C?p.includes(C)||i.includes(C):!1})},[r,h,u])}}function Ko(f){const{currType:h,onFilterChange:u}=f,[r,t]=c.useState(!1),s=i=>{u(i),t(!1)},d=h===Q.OnlyRewards,p=h===Q.AllPools;return e.jsxs(Ke,{isOpen:r,onClose:()=>{t(!1)},children:[e.jsx(Qe,{p:"0 12px 0 16px ",isActive:r,as:ce,bg:"bg_secondary",h:"34px",borderRadius:"8px",onClick:()=>{t(!0)},sx:{_hover:{bg:"card_bg",p:{color:"primary"},svg:{fill:"primary"}},_active:{bg:"card_bg",p:{color:"primary"},svg:{fill:"primary"}}},children:e.jsxs(L,{align:"center",justifyContent:"space-between",children:[e.jsx(g,{color:"text_caption",children:"Filters"}),e.jsx(se,{xlinkHref:"#icon-icon_open",variant:"gray",transition:"transform 0.5s",transform:r?"rotate(180deg)":"rotate(0deg)"})]})}),e.jsx(Oe,{p:"4px 16px 16px",opacity:"1",children:e.jsxs(k,{children:[e.jsxs(L,{mt:"12px",alignItems:"center",children:[e.jsx($e,{checked:d,onClick:()=>{h===Q.OnlyRewards?s(Q.OfficialPools):s(Q.OnlyRewards)}}),e.jsx(g,{ml:"24px",color:d?"primary":"text_paragraph",children:"Mining rewards only"})]}),e.jsxs(L,{mt:"12px",alignItems:"center",children:[e.jsx($e,{checked:p,onClick:()=>{h===Q.AllPools?s(Q.OfficialPools):s(Q.AllPools)}}),e.jsx(g,{ml:"24px",color:p?"primary":"text_paragraph",children:"Display All Pools"})]})]})})]})}function Qo(f,h,u=20){const{poolListIsLoading:r}=de(),{filterPoolList:t}=Ho(f,h),[s,d]=c.useState([]),[p,i]=c.useState(0),[_,m]=c.useState(!1);c.useEffect(()=>{if(r){m(!1),i(0);return}m(!1),i(0)},[r,f,h]),c.useEffect(()=>{if(r)return;const E=p*u,x=E+u;if(t.length<=E)p===0&&d([]);else{const A=t.slice(E,x);console.log("usePagePools: ",A,p),d(p===0?[...A]:[...s,...A])}},[t,p]);const a=()=>{S&&m(!0),setTimeout(()=>{i(p+1),m(!1)},500)},C=c.useMemo(()=>t.length,[t]),S=c.useMemo(()=>r?!1:t.length>s.length,[t,r,s]);return{pagePoolList:s,hasNextPage:S,currentPage:p,loadNextPage:a,totalCount:C,lordMoreLoading:_}}function er(){var je,Te;const f=De(),{tokenA:h,tokenB:u}=f.liquidity,{address:r}=Ye(),{tab:t}=Eo(),s=_e(),[d,p]=c.useState(null),[i,_]=c.useState("pool"),{getAnalyticsData:m}=Lo(),{analyticsDate:a}=_o(),{getPoolList:C}=vo(),{poolList:S,setSelectTab:E,selectTab:x,setSelectTabTokenA:A,setSelectTabTokenB:T}=de(),{positionList:b,positionTotalAmount:B}=ve(),{getPositionListData:$,getPositionAmount:v}=Ee();c.useEffect(()=>{_(t||"pool")},[t]);const[H,X]=c.useState({limit:1e3,offset:0,orderBy:j.VOL_DESC}),U=()=>{console.log("clickPoolsRefresh"),i==="pool"?C(H):r&&$(S)};c.useEffect(()=>{window.scrollTo(0,0),m(),E("Add liquidity"),console.log("currentConfig: ",f)},[]),c.useEffect(()=>{r&&i!=="position"&&v()},[r]),c.useEffect(()=>{i==="pool"&&C({limit:1e3,offset:0,orderBy:"-vol"})},[i]);const[V,N]=c.useState(!1),[O,re]=c.useState(""),[R,Z]=c.useState(Q.OfficialPools),{pagePoolList:ie,hasNextPage:xe,loadNextPage:he,totalCount:ge,lordMoreLoading:o}=Qo(O,R),[w,P]=c.useState(""),{filterPositionList:z}=Zo({searchText:w}),ae=c.useMemo(()=>r?z.length>0&&w.length>0?`(${z.length})`:B&&Y(B).gt(0)?`(${B})`:"":"",[B,z,r]),K=c.useRef();c.useEffect(()=>{function y(we){K.current&&!K.current.contains(we.target)&&N(!1)}return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[K]);const ee=c.useMemo(()=>i=="position"?w:O,[i,O,w]),oe=y=>{i=="position"?P(y):re(y)},ne=y=>{p(null),E(y),y=="Create a Pool"?T(void 0):(A(h),T(u))},{windowWidth:te}=Ae(),fe=()=>e.jsx(jo,{handleClickRefresh:U,boxH:"32px",boxW:"32px"});return e.jsxs(I,{w:"100%",gap:"0",children:[e.jsx(I,{gap:"0",children:e.jsx(g,{color:"text_caption",fontSize:"32px",mb:"4px",sx:{"@media screen and (max-width: 810px)":{textAlign:"center",fontSize:"22px"}},children:"Tucana Liquidity Pools"})}),e.jsxs(L,{w:"55%",align:"center",justifyContent:"space-between",mt:"24px",sx:{"@media screen and (max-width: 810px)":{w:"100%",flexDirection:"column"}},children:[e.jsx(Le,{text:"Total Value Locked",value:`${le((je=a==null?void 0:a.pureTvlUSD)==null?void 0:je.now,2)}`,fontWeight:"100",height:"36px"}),te<=810&&e.jsx(k,{h:"12px"}),e.jsx(Le,{text:"Trading Volume (24H)",value:`${le((Te=a==null?void 0:a.volUSD)==null?void 0:Te.day,2)}`,fontWeight:"100",height:"36px"})]}),e.jsxs(L,{w:"100%",align:"center",justifyContent:"center",mt:"60px",zIndex:"1",sx:{"@media screen and (max-width: 810px)":{flexDirection:"column"}},children:[te>810?e.jsx(Bo,{currentTab:x,textList:[{text:"Add liquidity",link:""},{text:"Create a Pool",link:""}],onChange:y=>ne(y)}):e.jsx(Vo,{w:"100%",h:"40px",p:"4px",borderRadius:"8px",currentTab:x,textList:["Add liquidity","Create a Pool"],onClick:y=>ne(y)}),e.jsx(Jo,{currentFee:d,changeFee:y=>p(y)})]}),e.jsxs(k,{w:"100%",gap:"0",mt:"40px",zIndex:"0",children:[e.jsxs(L,{w:"100%",align:"center",justifyContent:"space-between",pb:"11px",borderBottom:"1px solid",borderColor:"border",sx:{"@media screen and (max-width: 810px)":{display:"flex",flexDirection:"column",alignItems:"flex-start"}},children:[e.jsxs(L,{align:"center",children:[e.jsx(He,{text:"Pools",value:`(${ge})`,ml:"48px",isActive:i=="pool",onClick:()=>{s("/pools/pool")}}),e.jsx(k,{w:"40px"}),e.jsx(He,{text:"Positions",value:ae,ml:"48px",isActive:i=="position",onClick:()=>{s("/pools/position")}})]}),te<=810&&e.jsx(k,{w:"100%",h:"1px",background:"border",mt:"16px"}),e.jsxs(M,{sx:{"@media screen and (max-width: 810px)":{w:"100%",mt:i=="pool"?"12px":"4px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},children:[e.jsxs(M,{gap:"8px",sx:{"@media screen and (max-width: 810px)":{w:"100%",display:"flex",justifyContent:"space-between"}},children:[e.jsx(k,{w:i=="pool"?"":"0",children:i=="pool"&&e.jsx(Ko,{currType:R,onFilterChange:y=>{Z(y)}})}),e.jsxs(M,{children:[te>810?V?e.jsx(k,{ref:K,w:V?"320px":"0",transition:"transform 2s",sx:{"@media screen and (max-width: 810px)":{w:V?"100%":"0"}},children:e.jsx(Be,{isOpen:V,setIsOpen:y=>{N(y)},searchText:ee,onChange:oe,placeholder:i=="position"?"Search by token or position address":"search by token or pool address"})}):e.jsx(se,{boxW:"32px",boxH:"32px",svgW:"24px",svgH:"24px",xlinkHref:"#icon-icon_search",variant:"rectangle",onClick:()=>N(!0)}):null,(i=="pool"||te>810)&&fe()]})]}),te<=810&&e.jsxs(M,{sx:{"@media screen and (max-width: 810px)":{w:"100%",display:"flex",justifyContent:"space-between"}},children:[e.jsx(k,{w:"100%",children:e.jsx(Be,{isOpen:!0,setIsOpen:y=>{N(y)},searchText:ee,onChange:oe,placeholder:i=="position"?"Search by token or position address":"search by token or pool address"})}),i!=="pool"&&fe()]})]})]}),e.jsx(k,{h:"16px"}),i=="position"?e.jsx(qo,{filterList:z}):e.jsx(Wo,{filterPoolList:ie,currOrderBy:H.orderBy,handleSortChange:y=>{H.orderBy=y,X({...H}),U()},lordMoreLoading:o,hasNextPage:xe,loadNextPage:()=>{he()}})]})]})}export{er as default};
