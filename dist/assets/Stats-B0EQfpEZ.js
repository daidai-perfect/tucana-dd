import{r as c,j as t}from"./react-CxzTU07i.js";import"./bn.js-CjHYPH1W.js";import{$ as T,R as P,K as b}from"./App-Cb960mne.js";import"./numbro-DbF9-lIv.js";import{b as F,H as W}from"./useApiUrl-BWcjgV84.js";import{a as z}from"./usePoolList-D7LBbYQN.js";import{u as R}from"./useWindowWidth-DaYijioX.js";import{R as B,A as G,X as L,Y as M,T as U,b as H,B as K,d as N,c as O}from"./recharts-BEhUgXe7.js";import{V as S,F as j,T as g,l as _,S as I,f as x}from"./@chakra-ui-F3U2dpjw.js";import{T as J}from"./TopPools-BIEPAjdb.js";import{T as Y}from"./TopTokens-DoDByWY8.js";import{u as X}from"./useStatsData-OWdT72AP.js";import"./@improbable-eng-BU3rlaSz.js";import"./vite-plugin-node-polyfills-2b3IylRN.js";import"./react-router-dom-DspqRS0x.js";import"./react-dom-D0CDEAqu.js";import"./scheduler-CzFDRTuY.js";import"./react-router-COZMEyo_.js";import"./@remix-run-CA71pd9M.js";import"./index-oyaI18XQ.js";import"./lodash.mergewith-0oSak3fd.js";import"./framesync-BLa_7oTh.js";import"./@emotion-Ci8Bc0jK.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./@babel-Ds7TnLC8.js";import"./stylis-YPZU7XtI.js";import"./color2k-BSHHkqKj.js";import"./framer-motion-DN1fNAS_.js";import"./react-focus-lock-CdsTnkdS.js";import"./focus-lock-C3lLyJ0E.js";import"./use-sidecar-Mnt-C9DP.js";import"./use-callback-ref-BUZizod5.js";import"./react-clientside-effect-C1WRooe2.js";import"./react-remove-scroll-XbdGFyuF.js";import"./react-remove-scroll-bar-B8WFODEn.js";import"./react-style-singleton-BMjn4bnO.js";import"./get-nonce-C-Z93AgS.js";import"./aria-hidden-DQ5UC2Eg.js";import"./@zag-js-BxxExxl0.js";import"./@popperjs-BQBsAJpH.js";import"./react-fast-compare-ZNZLWkFJ.js";import"./decimal.js-g2JQ_dxE.js";import"./dayjs-ChilDtai.js";import"./copy-to-clipboard-BEgmPfpW.js";import"./toggle-selection-BHUZwh74.js";import"./zustand--BHpADek.js";import"./@initia-CP5FTFDk.js";import"./axios-BGrCQLb0.js";import"./browser-headers-DaTTBGKg.js";import"./long-Bd8Jk2Sf.js";import"./@protobufjs-BFfFlHHM.js";import"./bignumber.js-CTO8iJYk.js";import"./jscrypto-DOxZ2vL9.js";import"./crypto-browserify-K7vti8ry.js";import"./randombytes-cxG1aiJq.js";import"./safe-buffer-B7h8REzA.js";import"./create-hash-B2etqZ4B.js";import"./inherits-BlmhoU4v.js";import"./md5.js-FaoCCiYs.js";import"./hash-base-Bol-vuw1.js";import"./events-BYvclee5.js";import"./util-mxsps8Rg.js";import"./is-arguments-CSFfgC6i.js";import"./has-tostringtag-BVm4gedm.js";import"./has-symbols-jRi3KFcs.js";import"./call-bind-B07GZeJl.js";import"./get-intrinsic-kTO65dkt.js";import"./es-errors-DzOT6E3C.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-DW3CJlDV.js";import"./define-data-property-BYhozZ9n.js";import"./es-define-property-BlMEMvNH.js";import"./gopd-rUakIY3f.js";import"./has-property-descriptors-B3Yvk56Z.js";import"./is-generator-function-DtmjroQB.js";import"./which-typed-array-DjIYTpty.js";import"./for-each-HDM-_-W4.js";import"./is-callable-ajMm-eR9.js";import"./available-typed-arrays-lJejVQbB.js";import"./possible-typed-array-names-ZWAIzZ1Z.js";import"./is-typed-array-BI6k7hxc.js";import"./util-deprecate-DPVjTvyT.js";import"./string_decoder-0MzJkBYb.js";import"./ripemd160-C1CpqImb.js";import"./sha.js-BDwlQsPx.js";import"./cipher-base-7AdYGBPO.js";import"./stream-browserify-BfQl1BUK.js";import"./create-hmac--QaKJlMo.js";import"./browserify-sign-GWTZlE0Z.js";import"./process-nextick-args-qzFE9GA4.js";import"./core-util-is-BRatBjl-.js";import"./browserify-rsa-CryRCbDk.js";import"./elliptic-CmlQxMT_.js";import"./minimalistic-assert-DDtZfRm3.js";import"./minimalistic-crypto-utils-BXubSNmL.js";import"./brorand-BrlY5gS_.js";import"./hash.js-itZKbfbK.js";import"./hmac-drbg-oB7aodci.js";import"./parse-asn1-DRtj1sMn.js";import"./asn1.js-BnSaV4mo.js";import"./vm-browserify-B6h6MQBh.js";import"./evp_bytestokey-Dyx8YxuJ.js";import"./browserify-aes-BUcIY7yD.js";import"./buffer-xor-De43xBeM.js";import"./pbkdf2-C-6u4RPY.js";import"./browserify-cipher-DYIcwHfU.js";import"./browserify-des-SXPfahZ7.js";import"./des.js-CDfWU-Dy.js";import"./diffie-hellman-Cjh9VIAB.js";import"./miller-rabin-D0hA1ZTO.js";import"./create-ecdh-BozzoSuA.js";import"./public-encrypt-Dmci0MFY.js";import"./randomfill-Cz20fUZ8.js";import"./keccak256-BDyJSpAN.js";import"./keccak-C1V6dJ9R.js";import"./bech32-MFBNfINK.js";import"./bs58-B7XvzY3E.js";import"./base-x-DaHpqjnx.js";import"./bip32-rT_4MDJf.js";import"./bs58check-DBgRgCjV.js";import"./tiny-secp256k1-DFomSNDX.js";import"./typeforce-Dson3yfq.js";import"./wif-Bj2Vat9l.js";import"./bip39-D04lJivS.js";import"./@noble-niMs0PSV.js";import"./secp256k1-BRtDzKq7.js";import"./ws-DLAd0t_s.js";import"./semver-DcF-0Uum.js";import"./@ledgerhq-BR4K6VrK.js";import"./@tucana-network-DgPNddlX.js";import"./cosmjs-types-HHI3LIsf.js";import"./clsx-B-dksMZM.js";import"./lodash-CF7ZZEzc.js";import"./react-smooth-CJ-TEnHD.js";import"./prop-types-DJYhzm_d.js";import"./fast-equals-C7I1S-bJ.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-C66BBtZo.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-CWG3-CEL.js";import"./d3-scale-CaKF3Vy_.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-EePf7Sik.js";import"./d3-time-format-CKRkqwF6.js";import"./d3-time-nQs4M9wC.js";import"./d3-interpolate-m1gjL8b6.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-DiOBu8nk.js";import"./decimal.js-light-B5-9uEc-.js";import"./BackButton-CQFe92gG.js";import"./TableCardH5-CxOqm6xI.js";import"./apiDataProcessing-DjMQcQv4.js";import"./AprTooltip-CF9YBoS1.js";function q(){const a=F(W),[o,r]=c.useState([]),[i,p]=c.useState(!0);return{loading:i,lineDataList:o,getLineDate:async(u,d,h)=>{p(!0);try{const l=await(await fetch(`${a}?date_type=${u}&histogram_type=${d}&limit=${h}`)).json();console.log("0911##getLineDatejson",l,l.data.list),r(l&&l.data&&l.data.list),p(!1)}catch(e){console.log(e,"errorgetLineDate")}}}}function V(a){const{type:o}=a,{analyticsDate:r}=z(),[i,p]=c.useState("1D"),[m,u]=c.useState(k(new Date)),[d,h]=c.useState("--"),e=n=>{console.log("handleRadioChange value: ",n),p(n)};c.useEffect(()=>{var n,v;r&&h(o=="totalValue"?(n=r==null?void 0:r.pureTvlUSD)==null?void 0:n.now:(v=r==null?void 0:r.volUSD)==null?void 0:v.day)},[r]);const l=()=>t.jsx(j,{h:"20px",children:t.jsx(P,{options:["1D","7D","30D"],size:"s",value:i,onChange:e})}),{windowWidth:y}=R();return t.jsxs(S,{w:"100%",bg:"card_bg",p:"16px",backdropFilter:"blur(10px)",gap:"0",borderRadius:"12px",children:[t.jsxs(j,{w:"100%",justify:"space-between",children:[t.jsxs(S,{gap:"0",align:"flex-start",children:[t.jsx(g,{fontSize:"sm",children:o=="totalValue"?"Total Value Locked":"Trading Volume (24H)"}),r?t.jsx(g,{fontSize:"2xl",color:"text_caption",children:T(d,2)}):t.jsx(j,{h:"36px",align:"center",children:t.jsx(_,{})})]}),y>810&&l()]}),t.jsx(g,{w:"100%",mb:"20px",fontSize:"xs",sx:{"@media screen and (max-width: 810px)":{mb:"8px"}},children:m}),y<=810&&t.jsx(j,{sx:{"@media screen and (max-width: 810px)":{w:"100%",mb:"20px",justifyContent:"flex-start"}},children:l()}),t.jsx(Q,{type:o,dateType:i,analyticsDate:r,timeChange:n=>{u(n)},valueChange:n=>{h(n)}})]})}function Q(a){const{analyticsDate:o,type:r,dateType:i,timeChange:p,valueChange:m}=a,{loading:u,lineDataList:d,getLineDate:h}=q(),e=c.useMemo(()=>d.reverse(),[d]);c.useEffect(()=>{const s=i=="1D"?"day":i=="7D"?"week":"month",f=i=="1D"?40:i=="7D"?30:20,E=r=="totalValue"?"pure_tvl":"vol";h(s,E,f)},[i]);const l=(e==null?void 0:e.length)>0?Math.floor(Math.min(...e.map(s=>s.num))):0,y=Math.ceil(Math.max(...e.map(s=>s.num))),[n,v]=c.useState(null),w=s=>{if(s&&s.activePayload&&s.activePayload.length){p(k(new Date(Date.parse(s.activePayload[0].payload.date)))),m(s.activePayload[0].payload.num);const f=s.activePayload[0];v(f)}},D=()=>{var s,f;p(k(new Date)),m(r=="totalValue"?(s=o==null?void 0:o.pureTvlUSD)==null?void 0:s.now:(f=o==null?void 0:o.volUSD)==null?void 0:f.day),v(null)};return t.jsx(t.Fragment,{children:u?t.jsx(S,{p:"20px 0px 70px",children:t.jsx(I,{})}):t.jsx(B,{width:"100%",height:180,children:r=="totalValue"?t.jsxs(G,{data:e,syncId:r,onMouseEnter:w,onMouseMove:w,onMouseLeave:D,margin:{top:8,right:8,left:8,bottom:0},children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"var(--chakra-colors-primary)",stopOpacity:1}),t.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-primary)",stopOpacity:0})]}),t.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"var(--chakra-colors-primary)",stopOpacity:1}),t.jsx("stop",{offset:"100%",stopColor:"var(--chakra-colors-primary)",stopOpacity:0})]})]}),t.jsx(L,{dataKey:"date",tickLine:!1,reversed:!0,tick:t.jsx($,{type:r}),interval:(e==null?void 0:e.length)<10?0:parseInt(String((e==null?void 0:e.length)/6))}),t.jsx(M,{domain:[l,y],hide:!0,axisLine:!1,tickLine:!1}),t.jsx(U,{cursor:{stroke:"var(--chakra-colors-primary)",strokeWidth:1,strokeDasharray:"3 2"},content:t.jsx(A,{})}),t.jsx(H,{type:"monotone",dataKey:"num",stroke:"var(--chakra-colors-primary)",fill:"url(#colorUv)"})]}):t.jsxs(K,{data:e,barSize:5,barCategoryGap:120,onMouseEnter:w,onMouseMove:w,onMouseLeave:D,margin:{top:8,right:8,left:8,bottom:0},children:[t.jsx(U,{cursor:{stroke:"var(--chakra-colors-primary)",strokeWidth:10,strokeDasharray:"3 2"},content:t.jsx(A,{})}),t.jsx(N,{dataKey:"num",fill:"var(--chakra-colors-primary)",className:"custom-bar"}),t.jsx(M,{domain:[l,y],hide:!0,axisLine:!1,tickLine:!1}),t.jsx(L,{scale:"point",dataKey:"date",reversed:!0,tickLine:!1,tick:$,interval:(e==null?void 0:e.length)<10?0:parseInt(String((e==null?void 0:e.length)/6))}),n&&t.jsx(O,{x:n.payload.date,stroke:"var(--chakra-colors-chart_tooltip_line)",strokeDasharray:"3 3"})]})})})}const $=a=>{const{x:o,y:r,payload:i,type:p}=a,m=new Date(i.value);["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m.getUTCDay()];const d=Number(m.getUTCDate())>=10?`${m.getUTCDate()}`:`0${m.getUTCDate()}`;return t.jsx("g",{transform:`translate(${o},${r})`,children:t.jsx("text",{x:0,y:0,dy:p=="totalValue"?12:18,textAnchor:"middle",fill:"var(--chakra-colors-text_paragraph)",fontSize:12,children:d})})},A=a=>t.jsx(x,{}),k=a=>{const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=a.getUTCFullYear(),i=o[a.getUTCMonth()],p=a.getUTCDate();return`${i} ${p}, ${r} (UTC)`};function Yr(){var i,p;const{getAnalyticsData:a}=X(),{analyticsDate:o}=z(),{windowWidth:r}=R();return c.useEffect(()=>{window.scrollTo(0,0),a()},[]),t.jsxs(x,{w:"100%",children:[t.jsx(g,{color:"text_caption",fontSize:"xl",mb:"20px",children:"Stats"}),t.jsxs(j,{w:"100%",sx:{"@media screen and (max-width: 810px)":{flexDirection:"column"}},children:[t.jsx(V,{type:"totalValue"}),t.jsx(x,{w:"20px",sx:{"@media screen and (max-width: 810px)":{h:"8px"}}}),t.jsx(V,{type:"tradingVolume"})]}),t.jsxs(j,{w:"100%",justifyContent:"space-between",align:"center",mt:"40px",sx:{"@media screen and (max-width: 810px)":{justifyContent:"space-between",flexDirection:"column"}},children:[t.jsx(C,{text:"Cumulative Volume",value:T((i=o==null?void 0:o.volUSD)==null?void 0:i.total,2),isLoading:!o}),r<=810&&t.jsx(x,{h:"8px"}),t.jsx(C,{text:"Total Value Locked",value:T((p=o==null?void 0:o.pureTvlUSD)==null?void 0:p.now,2),isLoading:!o}),r<=810&&t.jsx(x,{h:"8px"}),t.jsx(C,{text:"Cumulative Transactions",value:b((o==null?void 0:o.totalTxCount)||"0"),isLoading:!o}),r<=810&&t.jsx(x,{h:"8px"}),t.jsx(C,{text:"Total Accounts",value:b((o==null?void 0:o.userCount)||"0"),isLoading:!o})]}),t.jsx(x,{w:"100%",mt:"40px",children:t.jsx(Y,{})}),t.jsx(x,{w:"100%",mt:"40px",children:t.jsx(J,{})})]})}function C(a){const{text:o,value:r,isLoading:i}=a;return t.jsxs(S,{justifyContent:"center",gap:"4px",sx:{"@media screen and (max-width: 810px)":{w:"100%",display:"flex",justifyContent:"space-between",flexDirection:"row"}},children:[t.jsx(g,{fontSize:"xs",children:o}),!r||i?t.jsx(x,{h:"30px",children:t.jsx(_,{w:"60px",h:"21px"})}):t.jsx(g,{color:"text_caption",fontSize:"xl",sx:{"@media screen and (max-width: 810px)":{fontSize:"md"}},children:r})]})}export{Yr as default};
