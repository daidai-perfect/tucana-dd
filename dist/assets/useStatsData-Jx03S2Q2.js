import{r as a,j as e,au as T,F as b,av as P,T as w,I as A,ao as I,aw as v,V as F,ax as R,aE as V,m as j,cJ as _,aF as $,cK as E,c9 as H}from"./index-CsZsZZ8H.js";function O(x){const{sortingRule:r,defaultText:k,isPool:L,sortingField:l,onSortingFieldClick:p,onSortClick:f,list:i}=x,[m,c]=a.useState(l),[u,d]=a.useState("Volume (24H)"),[h,g]=a.useState(r),[C,y]=a.useState(!1),D=s=>{d(s.label),p(s.value)},o=()=>{f(l)},t=()=>{y(!0)},S=()=>{y(!1)};return a.useEffect(()=>{c(l),g(r)},[l,r]),e.jsxs(T,{onOpen:t,onClose:S,children:[e.jsxs(b,{align:"center",w:"100%",justifyContent:"space-between",children:[e.jsx(P,{w:"100%",display:"flex",alignItems:"center",justifyContent:"center",mr:"8px",bg:"bg_secondary",h:"28px",borderRadius:"8px",border:"1px",borderColor:"border",_hover:{svg:{fill:"primary"}},children:e.jsxs(b,{alignItems:"center",justifyContent:"center",children:[e.jsx(w,{fontSize:"12px",mr:"8px",children:u}),i.length>1?e.jsx(A,{xlinkHref:"#icon-icon_open",cursor:"pointer",transform:C?"rotate(180deg)":"",transition:"transform 0.5s",variant:"grayprimary"}):null]})}),e.jsx(b,{align:"center",justify:"center",onClick:()=>o(),w:"28px",h:"28px",minW:"28px",borderRadius:"8px",bg:"card_bg",border:"1px",borderColor:"border",children:e.jsx(I,{value:h})})]}),i.length>1?e.jsx(v,{w:"100%",bg:"bg_secondary",borderRadius:"8px",borderColor:"border",p:"4px",overflow:"hidden",boxShadow:"none",zIndex:"9999",children:e.jsx(F,{w:"100%",p:"8px",children:i.map((s,n)=>e.jsx(R,{display:"flex",flexDirection:"column",alignItems:"center",onClick:()=>D(s),children:e.jsx(w,{fontSize:"xs",color:u==s.label?"primary":"",children:s.label})},s.label+n))})}):null]})}function U(){const{setAnalyticsData:x,setTokensList:r,setTokensListLength:k,setPoolsList:L,setPoolsListLength:l}=V(),p=j(_),{fetchPoolList:f}=$(),i=j(E);j(H);const[m,c]=a.useState(!0),[u,d]=a.useState(!0),[h,g]=a.useState(!0);return{analyticsLoading:m,tokenLoading:u,poolsLoading:h,getAnalyticsData:async()=>{c(!0);try{const t=await(await fetch(`${p}`)).json();console.log("0911##getAnalyticsData",t),x(t&&t.data),c(!1)}catch(o){console.log(o,"errorgetLineDate")}},getStatsTokenData:async(o,t,S)=>{d(!0);try{const n=await(await fetch(`${i}?orderBy=${o}&limit=${t}&offset=${S}`)).json();console.log("0911##getStatsTokenData",n,n.data.tokens),r(n&&n.data&&n.data.tokens),k(n&&n.data&&n.data.total),d(!1)}catch(s){console.log(s,"errorgetLineDate")}},getPairsData:async o=>{g(!0);try{const t=await f(o);console.log("0911##getPairsData",t),L(t),g(!1)}catch(t){console.log(t,"errorgetLineDate")}}}}export{O as H,U as u};
