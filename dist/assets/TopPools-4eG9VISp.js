import{Y as ss,bD as ns,r as u,aE as es,af as rs,p as os,j as n,V as j,F as x,cI as as,T as o,I as ls,ag as ts,t as P,ah as is,ai as cs,aj as U,ak as p,ao as v,al as xs,am as ds,an as h,b8 as us,H as _,q as ps,ar as A,X as hs,v as js,B as gs,c0 as E,a8 as q}from"./index-BNs6X6_J.js";import{B as Ts}from"./BackButton-DtKNokut.js";import{u as fs,H as ks}from"./useStatsData-BGRRbG-p.js";import{T as I}from"./TableCardH5-EdyazQU3.js";import{g as Ss}from"./apiDataProcessing-u1eNMFg8.js";import{A as ys}from"./AprTooltip-BFBbwOFr.js";function _s(M){const{isViewAll:l}=M,C=ss(),{tokenList:g}=ns(),[f,X]=u.useState(1),[c,bs]=u.useState(10),{getPairsData:N,poolsLoading:k}=fs(),{poolsListLength:S,poolsList:T}=es(),{isImportToken:y}=rs(),d=u.useMemo(()=>l?T:(T==null?void 0:T.filter(e=>{var r,i;return!y(((r=e==null?void 0:e.token0)==null?void 0:r.metadata)||"")&&!y(((i=e==null?void 0:e.token1)==null?void 0:i.metadata)||"")})).slice(0,c),[T]);u.useEffect(()=>{if(g&&(g==null?void 0:g.length)>0){const s={limit:l?c:1e3,offset:Number((f-1)*c),orderBy:t==="asc"?a:"-"+a};N(s)}},[f,g]);const Y=[{label:"TVL",value:"pure_tvl"},{label:"Volume (24H)",value:"vol"},{label:"Volume (7D)",value:"vol_week"},{label:"APR",value:"apr"}],[t,G]=u.useState("desc"),[a,J]=u.useState("vol"),b=(s,e)=>{G(e),J(s);const r={limit:l?c:1e3,offset:Number((f-1)*c),orderBy:e==="asc"?s:"-"+s};N(r)},w=s=>{a==s?b(s,t=="desc"?"asc":"desc"):b(s,"desc")},K=s=>{X(s)},O=s=>{a!=s&&b(s,"desc")},Q=s=>{b(s,t=="desc"?"asc":"desc")},V=s=>{var e,r,i,R,W,$;return n.jsxs(_,{gap:"0px",children:[n.jsx(ps,{w:"40px",variant:"border",coinAIconUrl:(e=s==null?void 0:s.displayToken0)==null?void 0:e.image,coinBIconUrl:(r=s==null?void 0:s.displayToken1)==null?void 0:r.image,showATag:y(((i=s==null?void 0:s.displayToken0)==null?void 0:i.metadata)||""),showBTag:y(((R=s==null?void 0:s.displayToken1)==null?void 0:R.metadata)||"")}),n.jsxs(j,{gap:"0px",ml:"8px",align:"flex-start",children:[n.jsxs(o,{color:"text_caption",children:[(W=s==null?void 0:s.displayToken0)==null?void 0:W.symbol," - ",($=s==null?void 0:s.displayToken1)==null?void 0:$.symbol]}),n.jsx(o,{mt:"4px",p:"0px 8px",color:"primary",fontSize:"xs",minW:"52px",textAlign:"center",h:"16px",lineHeight:"16px",borderRadius:"8px",bg:"bg_secondary",children:Ss(s==null?void 0:s.feeTier)})]})]})},z=s=>{var e;return n.jsxs(o,{color:"text_caption",children:[" ",A((e=s==null?void 0:s.pureTvlUSD)==null?void 0:e.now,2)]})},F=s=>{var e;return n.jsxs(o,{color:"text_caption",children:[" ",A((e=s==null?void 0:s.volUSD)==null?void 0:e.day,2)]})},H=s=>{var e;return n.jsxs(o,{color:"text_caption",children:[" ",A((e=s==null?void 0:s.volUSD)==null?void 0:e.week,2)]})},B=s=>n.jsx(_,{w:"100%",justifyContent:"flex-end",children:n.jsx(ys,{info:s,children:n.jsx(o,{color:"text_caption",fontSize:"sm",children:hs(s.totalApr?js(s.totalApr).mul(100).toString():void 0)})})}),D=s=>n.jsx(gs,{w:"80px",h:"32px",fontSize:"sm",variant:"ghost",onClick:()=>{var e,r;return C(`/pools/liquidity/${(e=s==null?void 0:s.displayToken0)==null?void 0:e.metadata}/${(r=s==null?void 0:s.displayToken1)==null?void 0:r.metadata}/${s==null?void 0:s.feeTier}`)},sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:"Deposit"}),Z=s=>[{leftText:"TVL",right:z(s)},{leftText:"Volume (24H)",right:F(s)},{leftText:"Volume (7D)",right:H(s)},{leftText:"APR",right:B(s)}],{windowWidth:m}=os();return n.jsxs(j,{borderRadius:"12px",children:[n.jsxs(x,{w:"100%",align:"center",justifyContent:"space-between",children:[n.jsxs(x,{align:"center",mb:"8px",children:[l?n.jsx(Ts,{}):null,n.jsx(as,{color:"text_caption",fontSize:"md",ml:l?"4px":"",children:"Top Pools"})]}),l?null:n.jsxs(x,{align:"center",cursor:"pointer",onClick:()=>C("/stats/pool"),children:[n.jsx(o,{color:"text_caption",sx:{_hover:{color:"primary"}},children:"View All"}),n.jsx(ls,{xlinkHref:"#icon-icon_arrow",cursor:"pointer"})]})]}),n.jsx(ts,{w:"100%",children:m<=810?n.jsxs(j,{w:"100%",children:[n.jsx(P,{mt:"8px",w:"100%",children:n.jsx(ks,{sortingRule:t,sortingField:a,onSortingFieldClick:s=>O(s),onSortClick:s=>Q(s),list:Y,isPool:!0})}),k?[{},{},{}].map((s,e)=>n.jsx(j,{w:"100%",children:n.jsx(I,{LoadingFirstTd:L(),isLoading:k})},e)):d==null?void 0:d.map((s,e)=>n.jsx(j,{w:"100%",children:n.jsx(I,{LoadingFirstTd:L(),isLoading:k,tokensSymbol:V(s),rowList:Z(s),btntNode:D(s)})},s==null?void 0:s.id))]}):n.jsxs(is,{size:"sm",children:[n.jsx(cs,{children:n.jsxs(U,{children:[n.jsx(p,{children:"Pool"}),n.jsx(p,{isNumeric:!0,children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>w("pure_tvl"),children:[n.jsx(o,{fontSize:"xs",children:"TVL"}),n.jsx(v,{value:a=="pure_tvl"?t:void 0})]})}),n.jsx(p,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>w("vol"),children:[n.jsx(o,{fontSize:"xs",children:"Volume (24H)"}),n.jsx(v,{value:a=="vol"?t:void 0})]})}),n.jsx(p,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>w("vol_week"),children:[n.jsx(o,{fontSize:"xs",children:"Volume (7D)"}),n.jsx(v,{value:a=="vol_week"?t:void 0})]})}),n.jsx(p,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>w("apr"),children:[n.jsx(o,{fontSize:"xs",children:"APR"}),n.jsx(v,{value:a=="apr"?t:void 0})]})}),n.jsx(p,{})]})}),k?n.jsx(xs,{tableList:[{},{},{},{},{},{},{},{},{},{}],tdList:[{},{},{},{},{}],firstTd:L()}):n.jsx(ds,{children:d==null?void 0:d.map((s,e)=>n.jsxs(U,{h:"72px",cursor:"pointer",onClick:()=>{var r,i;return C(`/pools/liquidity/${(r=s==null?void 0:s.displayToken0)==null?void 0:r.metadata}/${(i=s==null?void 0:s.displayToken1)==null?void 0:i.metadata}/${s==null?void 0:s.feeTier}`)},children:[n.jsx(h,{minW:"250px",children:V(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:z(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:F(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:H(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:B(s)}),n.jsx(h,{isNumeric:!0,children:D(s)})]},e))})]})}),!l||Number(S)<c?null:n.jsx(P,{m:"20px 0",children:n.jsx(us,{total:Number(S)<20||l?S:20,size:c,currentPage:f,onChange:K})})]})}function L(){return n.jsxs(_,{gap:"4px",align:"center",children:[n.jsx(E,{size:"9"}),n.jsx(P,{ml:"-20px",children:n.jsx(E,{size:"9"})}),n.jsxs(j,{gap:"4px",align:"flex-start",children:[n.jsx(q,{}),n.jsx(q,{w:"60px"})]})]})}export{L,_s as T};
