import{r as p,j as n}from"./react-CxzTU07i.js";import{i as ns,I as rs,_ as C,Z as es,ad as os,H as ls,m as U,$ as _,M as ts,d as as}from"./App-Cb960mne.js";import{B as is}from"./BackButton-CQFe92gG.js";import"./bn.js-CjHYPH1W.js";import{u as cs,H as xs}from"./useStatsData-OWdT72AP.js";import{T as E}from"./TableCardH5-CxOqm6xI.js";import{a as ds}from"./usePoolList-D7LBbYQN.js";import{g as ps}from"./apiDataProcessing-DjMQcQv4.js";import{u as us}from"./useApiUrl-BWcjgV84.js";import{A as hs}from"./AprTooltip-CF9YBoS1.js";import{u as js}from"./useWindowWidth-DaYijioX.js";import{c as gs}from"./react-router-COZMEyo_.js";import{V as j,F as x,m as fs,T as o,a9 as Ts,f as P,aa as ks,ab as Ss,j as q,ac as u,i as ys,k as h,H as v,B as ws,ao as M,l as Z}from"./@chakra-ui-F3U2dpjw.js";function Rs(G){const{isViewAll:t}=G,A=gs(),{tokenList:g}=ns(),[T,I]=p.useState(1),[c,bs]=p.useState(10),{getPairsData:N,poolsLoading:k}=cs(),{poolsListLength:S,poolsList:f}=ds(),{isImportToken:y}=us(),d=p.useMemo(()=>t?f:(f==null?void 0:f.filter(r=>{var e,i;return!y(((e=r==null?void 0:r.token0)==null?void 0:e.metadata)||"")&&!y(((i=r==null?void 0:r.token1)==null?void 0:i.metadata)||"")})).slice(0,c),[f]);p.useEffect(()=>{if(g&&(g==null?void 0:g.length)>0){const s={limit:t?c:1e3,offset:Number((T-1)*c),orderBy:a==="asc"?l:"-"+l};N(s)}},[T,g]);const J=[{label:"TVL",value:"pure_tvl"},{label:"Volume (24H)",value:"vol"},{label:"Volume (7D)",value:"vol_week"},{label:"APR",value:"apr"}],[a,K]=p.useState("desc"),[l,O]=p.useState("vol"),w=(s,r)=>{K(r),O(s);const e={limit:t?c:1e3,offset:Number((T-1)*c),orderBy:r==="asc"?s:"-"+s};N(e)},b=s=>{l==s?w(s,a=="desc"?"asc":"desc"):w(s,"desc")},Q=s=>{I(s)},X=s=>{l!=s&&w(s,"desc")},Y=s=>{w(s,a=="desc"?"asc":"desc")},V=s=>{var r,e,i,R,W,$;return n.jsxs(v,{gap:"0px",children:[n.jsx(ls,{w:"40px",variant:"border",coinAIconUrl:(r=s==null?void 0:s.displayToken0)==null?void 0:r.image,coinBIconUrl:(e=s==null?void 0:s.displayToken1)==null?void 0:e.image,showATag:y(((i=s==null?void 0:s.displayToken0)==null?void 0:i.metadata)||""),showBTag:y(((R=s==null?void 0:s.displayToken1)==null?void 0:R.metadata)||"")}),n.jsxs(j,{gap:"0px",ml:"8px",align:"flex-start",children:[n.jsxs(v,{children:[n.jsx(U,{color:"text_caption",children:(W=s==null?void 0:s.displayToken0)==null?void 0:W.symbol}),n.jsx(o,{color:"text_caption",children:"-"}),n.jsx(U,{color:"text_caption",children:($=s==null?void 0:s.displayToken1)==null?void 0:$.symbol})]}),n.jsx(o,{mt:"4px",p:"0px 8px",color:"primary",fontSize:"xs",minW:"52px",textAlign:"center",h:"16px",lineHeight:"16px",borderRadius:"8px",bg:"bg_secondary",children:ps(s==null?void 0:s.feeTier)})]})]})},z=s=>{var r;return n.jsxs(o,{color:"text_caption",children:[" ",_((r=s==null?void 0:s.pureTvlUSD)==null?void 0:r.now,2)]})},H=s=>{var r;return n.jsxs(o,{color:"text_caption",children:[" ",_((r=s==null?void 0:s.volUSD)==null?void 0:r.day,2)]})},F=s=>{var r;return n.jsxs(o,{color:"text_caption",children:[" ",_((r=s==null?void 0:s.volUSD)==null?void 0:r.week,2)]})},B=s=>n.jsx(v,{w:"100%",justifyContent:"flex-end",children:n.jsx(hs,{info:s,children:n.jsx(o,{color:"text_caption",fontSize:"sm",children:ts(s.totalApr?as(s.totalApr).mul(100).toString():void 0)})})}),D=s=>n.jsx(ws,{w:"80px",h:"32px",fontSize:"sm",variant:"ghost",onClick:()=>{var r,e;return A(`/pools/liquidity/${(r=s==null?void 0:s.displayToken0)==null?void 0:r.metadata}/${(e=s==null?void 0:s.displayToken1)==null?void 0:e.metadata}/${s==null?void 0:s.feeTier}`)},sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:"Deposit"}),m=s=>[{leftText:"TVL",right:z(s)},{leftText:"Volume (24H)",right:H(s)},{leftText:"Volume (7D)",right:F(s)},{leftText:"APR",right:B(s)}],{windowWidth:ss}=js();return n.jsxs(j,{borderRadius:"12px",children:[n.jsxs(x,{w:"100%",align:"center",justifyContent:"space-between",children:[n.jsxs(x,{align:"center",mb:"8px",children:[t?n.jsx(is,{}):null,n.jsx(fs,{color:"text_caption",fontSize:"md",ml:t?"4px":"",children:"Top Pools"})]}),t?null:n.jsxs(x,{align:"center",cursor:"pointer",onClick:()=>A("/stats/pool"),children:[n.jsx(o,{color:"text_caption",sx:{_hover:{color:"primary"}},children:"View All"}),n.jsx(rs,{xlinkHref:"#icon-icon_arrow",cursor:"pointer"})]})]}),n.jsx(Ts,{w:"100%",children:ss<=810?n.jsxs(j,{w:"100%",children:[n.jsx(P,{mt:"8px",w:"100%",children:n.jsx(xs,{sortingRule:a,sortingField:l,onSortingFieldClick:s=>X(s),onSortClick:s=>Y(s),list:J,isPool:!0})}),k?[{},{},{}].map((s,r)=>n.jsx(j,{w:"100%",children:n.jsx(E,{LoadingFirstTd:L(),isLoading:k})},r)):d==null?void 0:d.map((s,r)=>n.jsx(j,{w:"100%",children:n.jsx(E,{LoadingFirstTd:L(),isLoading:k,tokensSymbol:V(s),rowList:m(s),btntNode:D(s)})},s==null?void 0:s.id))]}):n.jsxs(ks,{size:"sm",children:[n.jsx(Ss,{children:n.jsxs(q,{children:[n.jsx(u,{children:"Pool"}),n.jsx(u,{isNumeric:!0,children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>b("pure_tvl"),children:[n.jsx(o,{fontSize:"xs",children:"TVL"}),n.jsx(C,{value:l=="pure_tvl"?a:void 0})]})}),n.jsx(u,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>b("vol"),children:[n.jsx(o,{fontSize:"xs",children:"Volume (24H)"}),n.jsx(C,{value:l=="vol"?a:void 0})]})}),n.jsx(u,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>b("vol_week"),children:[n.jsx(o,{fontSize:"xs",children:"Volume (7D)"}),n.jsx(C,{value:l=="vol_week"?a:void 0})]})}),n.jsx(u,{isNumeric:!0,textAlign:"right",children:n.jsxs(x,{align:"center",justifyContent:"flex-end",onClick:()=>b("apr"),children:[n.jsx(o,{fontSize:"xs",children:"APR"}),n.jsx(C,{value:l=="apr"?a:void 0})]})}),n.jsx(u,{})]})}),k?n.jsx(es,{tableList:[{},{},{},{},{},{},{},{},{},{}],tdList:[{},{},{},{},{}],firstTd:L()}):n.jsx(ys,{children:d==null?void 0:d.map((s,r)=>n.jsxs(q,{h:"72px",cursor:"pointer",onClick:()=>{var e,i;return A(`/pools/liquidity/${(e=s==null?void 0:s.displayToken0)==null?void 0:e.metadata}/${(i=s==null?void 0:s.displayToken1)==null?void 0:i.metadata}/${s==null?void 0:s.feeTier}`)},children:[n.jsx(h,{minW:"250px",children:V(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:z(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:H(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:F(s)}),n.jsx(h,{isNumeric:!0,textAlign:"right",children:B(s)}),n.jsx(h,{isNumeric:!0,children:D(s)})]},r))})]})}),!t||Number(S)<c?null:n.jsx(P,{m:"20px 0",children:n.jsx(os,{total:Number(S)<20||t?S:20,size:c,currentPage:T,onChange:Q})})]})}function L(){return n.jsxs(v,{gap:"4px",align:"center",children:[n.jsx(M,{size:"9"}),n.jsx(P,{ml:"-20px",children:n.jsx(M,{size:"9"})}),n.jsxs(j,{gap:"4px",align:"flex-start",children:[n.jsx(Z,{}),n.jsx(Z,{w:"60px"})]})]})}export{L,Rs as T};
