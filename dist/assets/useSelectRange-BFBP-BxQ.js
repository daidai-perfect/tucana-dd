import{j as o,r as p}from"./react-CxzTU07i.js";import{$ as w,a1 as B,F as f,T as b,p as S,V as v,aq as j,ap as A}from"./@chakra-ui-F3U2dpjw.js";import{I as _,aj as m}from"./App-Cb960mne.js";import"./bn.js-CjHYPH1W.js";import"./numbro-DbF9-lIv.js";import{n as k,c as M}from"./@tucana-network-DgPNddlX.js";function C(g){const{title:r,price:n,handlePriceAdd:t,handlePriceSub:s,onInputChange:c,onBlur:a,showActionBtn:x,unit:h}=g,P=(e,i)=>{if(e===k)c(e,i);else{const u=e==null?void 0:e.replace(/[^\d.]+|(\..*)\./g,"$1");c(u,i)}},l=(e,i)=>{if(e===k)a?a(e,i):c(e,i);else{const u=e==null?void 0:e.replace(/[^\d.]+|(\..*)\./g,"$1");a?a(u,i):c(u,i)}};return o.jsx(w,{width:"100%",p:"20px 16px",backgroundColor:"input_bg",border:"1px solid",borderColor:"border",children:o.jsx(B,{children:o.jsxs(f,{justifyContent:"space-between",alignItems:"center",children:[o.jsxs(f,{direction:"column",h:"48px",children:[o.jsx(b,{fontSize:"xs",children:r}),o.jsx(S,{placeholder:"0.0",value:n,onChange:e=>{P(e.target.value,!1)},onBlur:e=>{l(e.target.value,!0)}})]}),o.jsxs(v,{alignItems:"end",children:[h&&o.jsx(b,{textAlign:"end",whiteSpace:"nowrap",fontSize:"xs",color:"text_paragraph",children:h}),x&&o.jsxs(f,{gap:"8px",children:[o.jsx(j,{w:"20px",h:"20px",borderRadius:"4px",backgroundColor:"bg_secondary","aria-label":"",onClick:s,sx:{minWidth:"20px",minHeight:"20px",":hover":{backgroundColor:"button_outline_hov_bg"}},icon:o.jsx(_,{xlinkHref:"#icon-icon_reduce"})}),o.jsx(j,{w:"20px",h:"20px",borderRadius:"4px",backgroundColor:"bg_secondary","aria-label":"",onClick:t,sx:{minWidth:"20px",minHeight:"20px",":hover":{backgroundColor:"button_outline_hov_bg"}},icon:o.jsx(_,{xlinkHref:"#icon-icon_increase"})})]})]})]})})})}function N(g){const{min_price:r,max_price:n,handleMinPriceActoin:t,handleMaxPriceActoin:s,onInputPriceChange:c,onInputPriceBlur:a,isFullRange:x,unit:h,direction:P}=g;return o.jsxs(A,{flexDirection:P,w:"100%",align:"center",gap:"16px",sx:{"@media screen and (max-width: 810px)":{display:"flex",w:"100%",flexDirection:"column"}},children:[o.jsx(C,{title:"Min Price",price:r,unit:h,showActionBtn:!x,handlePriceAdd:()=>t(!0),handlePriceSub:()=>t(!1),onInputChange:function(l,e){c(l,!0,e)},onBlur:function(l,e){a?a(l,!0,e):c(l,!0,e)}}),o.jsx(C,{title:"Max Price",price:n,unit:h,showActionBtn:!x,handlePriceAdd:()=>s(!0),handlePriceSub:()=>s(!1),onInputChange:function(l,e){c(l,!1,e)},onBlur:function(l,e){a?a(l,!1,e):c(l,!1,e)}})]})}function $(g){const{minPriceData:r,maxPriceData:n,saveMinPriceData:t,saveMaxPriceData:s,token0:c,token1:a,tickSpacing:x}=g;return{isFullRange:p.useMemo(()=>(r==null?void 0:r.uiPrice)==="0"&&(n==null?void 0:n.uiPrice)===k,[r==null?void 0:r.uiPrice,n==null?void 0:n.uiPrice]),handleMinPriceClick:i=>{console.log("handleMinPriceClick isAdd: ",i),console.log("handleMinPriceClick minPriceData: ",r),r&&t(i?r.getNextPrice():r.getPrePrice())},handleMaxPriceClick:i=>{console.log("handleMaxPriceClick isAdd: ",i),console.log("handleMaxPriceClick maxPriceData: ",n),n&&s(i?n.getNextPrice():n.getPrePrice())},onInputPriceChange:(i,u,d)=>{if(console.log({price:i,isMin:u,isInputComplete:d}),m(i))if(u)if(r){if(r.hasFixUiPrice&&d)return;r.updateTickPrice(i,d,d),t(r)}else t(M.buildTickPriceData(i,x,c,a,d));else if(n){if(n.hasFixUiPrice&&d)return;n==null||n.updateTickPrice(i,d,d),s(n)}else s(M.buildTickPriceData(i,x,c,a,d));else u?t(void 0):s(void 0)}}}export{N as P,$ as u};
