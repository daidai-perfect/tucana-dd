import{r,j as e}from"./react-CxzTU07i.js";import{I as T,_ as P}from"./App-Cb960mne.js";import{M as A,F as S,w as I,T as w,x as v,V as F,y as _}from"./@chakra-ui-F3U2dpjw.js";import{b as m,A as M,t as R,a as V}from"./useApiUrl-BWcjgV84.js";import{a as $,u as H}from"./usePoolList-D7LBbYQN.js";function W(p){const{sortingRule:a,defaultText:j,isPool:k,sortingField:l,onSortingFieldClick:x,onSortClick:f,list:i}=p,[L,c]=r.useState(l),[u,d]=r.useState("Volume (24H)"),[h,g]=r.useState(a),[C,y]=r.useState(!1),D=s=>{d(s.label),x(s.value)},n=()=>{f(l)},t=()=>{y(!0)},b=()=>{y(!1)};return r.useEffect(()=>{c(l),g(a)},[l,a]),e.jsxs(A,{onOpen:t,onClose:b,children:[e.jsxs(S,{align:"center",w:"100%",justifyContent:"space-between",children:[e.jsx(I,{w:"100%",display:"flex",alignItems:"center",justifyContent:"center",mr:"8px",bg:"bg_secondary",h:"28px",borderRadius:"8px",border:"1px",borderColor:"border",_hover:{svg:{fill:"primary"}},children:e.jsxs(S,{alignItems:"center",justifyContent:"center",children:[e.jsx(w,{fontSize:"12px",mr:"8px",children:u}),i.length>1?e.jsx(T,{xlinkHref:"#icon-icon_open",cursor:"pointer",transform:C?"rotate(180deg)":"",transition:"transform 0.5s",variant:"grayprimary"}):null]})}),e.jsx(S,{align:"center",justify:"center",onClick:()=>n(),w:"28px",h:"28px",minW:"28px",borderRadius:"8px",bg:"card_bg",border:"1px",borderColor:"border",children:e.jsx(P,{value:h})})]}),i.length>1?e.jsx(v,{w:"100%",bg:"bg_secondary",borderRadius:"8px",borderColor:"border",p:"4px",overflow:"hidden",boxShadow:"none",zIndex:"9999",children:e.jsx(F,{w:"100%",p:"8px",children:i.map((s,o)=>e.jsx(_,{display:"flex",flexDirection:"column",alignItems:"center",onClick:()=>D(s),children:e.jsx(w,{fontSize:"xs",color:u==s.label?"primary":"",children:s.label})},s.label+o))})}):null]})}function q(){const{setAnalyticsData:p,setTokensList:a,setTokensListLength:j,setPoolsList:k,setPoolsListLength:l}=$(),x=m(M),{fetchPoolList:f}=H(),i=m(R);m(V);const[L,c]=r.useState(!0),[u,d]=r.useState(!0),[h,g]=r.useState(!0);return{analyticsLoading:L,tokenLoading:u,poolsLoading:h,getAnalyticsData:async()=>{c(!0);try{const t=await(await fetch(`${x}`)).json();console.log("0911##getAnalyticsData",t),p(t&&t.data),c(!1)}catch(n){console.log(n,"errorgetLineDate")}},getStatsTokenData:async(n,t,b)=>{d(!0);try{const o=await(await fetch(`${i}?orderBy=${n}&limit=${t}&offset=${b}`)).json();console.log("0911##getStatsTokenData",o,o.data.tokens),a(o&&o.data&&o.data.tokens),j(o&&o.data&&o.data.total),d(!1)}catch(s){console.log(s,"errorgetLineDate")}},getPairsData:async n=>{g(!0);try{const t=await f(n);console.log("0911##getPairsData",t),k(t),g(!1)}catch(t){console.log(t,"errorgetLineDate")}}}}export{W as H,q as u};
