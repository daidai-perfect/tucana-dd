import{bF as Se,bG as Ce,bH as Pe,j as e,bI as ve,bJ as we,aK as ye,Z as de,bD as Ae,r as f,t as S,T as x,F as h,ay as _e,O as Be,H as V,k as E,l as Q,I as X,a1 as xe,aQ as De,bK as K,bL as U,b0 as pe,W as Ie,bE as H,Y as Me,a6 as me,K as Re,_ as Fe,aF as $e,bM as Le,v as y,bN as ze,a4 as Ve,a3 as ie,aX as D,az as Ee,aB as fe,bO as Ne,Q as qe,bP as He,A as oe,S as he,M as Oe,a as Je,b as Ge,c as Ke,d as Ue,e as We,V as Qe,bA as se,B as ge,bQ as Xe,bR as Ye,bS as Ze,bT as et,bU as tt,bV as nt,bW as at,bX as it,bY as J,bZ as ot,b_ as st}from"./index-BAe5U5I_.js";import{B as rt}from"./BackButton-JRfEof3W.js";import{u as ct,P as lt}from"./useSelectRange-DMtOtGZ1.js";import{L as re}from"./LockMask-DqQkyiLz.js";var W=Se(function(n,t){const i=Ce("Badge",n),{className:o,...s}=Pe(n);return e.jsx(ve.span,{ref:t,className:we("chakra-badge",n.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...i}})});W.displayName="Badge";var w=(a=>(a.forward="forward",a.reverse="reverse",a))(w||{});const F=ye((a,n)=>({token0:void 0,token1:void 0,saveToken0:t=>{n().clearInputData(),a(()=>({token0:t}))},isValidRange:()=>{const{inputPriceData:t,minPriceData:i,maxPriceData:o}=n();return t&&i&&o?t.tick>=i.tick&&t.tick<o.tick:!0},saveToken1:t=>{n().clearInputData(),a(()=>({token1:t}))},feeTier:void 0,saveFeeTier:t=>{a(()=>({feeTier:t}))},inputPriceData:void 0,saveInputPriceData:t=>{a(()=>({inputPriceData:t}))},priceDirection:"forward",savePriceDirection:t=>{a(()=>({priceDirection:t}))},minPriceData:void 0,maxPriceData:void 0,saveMinPriceData:t=>{a(()=>({minPriceData:t}))},saveMaxPriceData:t=>{a(()=>({maxPriceData:t}))},tokenAmount0:"",tokenAmount1:"",isFixTokenAmount0:!0,saveTokenAmount:(t,i)=>{a(t?()=>({tokenAmount0:i}):()=>({tokenAmount1:i}))},saveIsFixTokenAmount0:t=>{a(()=>({isFixTokenAmount0:t}))},liquidityInputResult:void 0,saveLiquidityInputResult:t=>{a(()=>({liquidityInputResult:t}))},clearInputData:()=>{a(()=>({inputPriceData:void 0,priceDirection:"forward",minPriceData:void 0,maxPriceData:void 0,tokenAmount0:"",tokenAmount1:""}))}}));function ut(){const{token0:a,token1:n}=de(),{tokensObj:t}=Ae(),{token0:i,token1:o,saveToken0:s,saveToken1:l}=F();f.useEffect(()=>{if(a){const c=t[a];r(c,!0)}else r(void 0,!0);if(n){const c=t[n];r(c,!1)}else r(void 0,!1)},[!0]);const r=(c,d)=>{d?((c==null?void 0:c.metadata)===(o==null?void 0:o.metadata)&&l(void 0),s(c)):((c==null?void 0:c.metadata)===(i==null?void 0:i.metadata)&&s(void 0),l(c))};return{token0:i,token1:o,selectAndFixTokenType:r}}function dt(){const{token0:a,token1:n,selectAndFixTokenType:t}=ut();return e.jsxs(S,{style:{width:"100%"},children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Select Pool"}),e.jsxs(h,{width:"100%",gap:"16px",children:[e.jsx(ce,{label:"Base Asset",currentCoin:a,onChange:i=>{t(i,!0)}}),e.jsx(ce,{label:"Quote Asset",currentCoin:n,onChange:i=>{t(i,!1)}})]})]})}function ce(a){const{currentCoin:n,onChange:t,label:i}=a;return e.jsxs(h,{width:"100%",mt:"14px",direction:"column",children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:i}),e.jsx(_e,{current:n,onChange:t,width:"100%",h:"48px",borderRadius:"16px",p:"12px",gap:"8px",marginTop:"8px",select_bg:"bg_secondary"})]})}function xt(){const{fee:a}=de(),[n,t]=f.useState(!0),{token0:i,token1:o,feeTier:s,saveFeeTier:l}=F(),{getPoolByMatadata:r}=Be(),[c,d]=f.useState([{feeTier:100,fee:"0.01",text:"Best for very stable pairs.",tick_spacing:2,has_created:!1},{feeTier:500,fee:"0.05",text:"Best for stable pairs.",tick_spacing:10,has_created:!1},{feeTier:2500,fee:"0.25",text:"Best for most pairs.",tick_spacing:60,has_created:!1},{feeTier:1e4,fee:"1",text:"Best for exotic pairs.",tick_spacing:200,has_created:!1}]);return f.useEffect(()=>{t(!1);let p;if(i&&o){let u;if(p=c.map((m,k)=>(m.has_created=r(i.metadata,o.metadata,m.feeTier.toString())!==void 0,m.feeTier===2500&&!m.has_created&&(u=m),m)),u)l(u);else{const m=p.filter(k=>!k.has_created);m.length>0?l({...m[0]}):l(void 0)}}else l(void 0),p=c.map(u=>(u.has_created=!1,u)),l();if(d([...p]),a&&n){const u=c.filter(m=>m.feeTier.toString()===a);u.length>0&&l({...u[0]})}},[i,o]),{feeTier:s,saveFeeTier:l,feeTierList:c}}function pt(){const{feeTier:a,saveFeeTier:n,feeTierList:t}=xt();return e.jsxs(S,{style:{width:"100%",marginTop:"26px"},children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Select Fee Tier"}),e.jsx(h,{width:"100%",marginTop:"-8px",display:"flex",justifyContent:"center",flexWrap:"wrap",children:t.map((i,o)=>e.jsx(V,{marginTop:"16px",width:"49%",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:e.jsx(E,{h:"100%",marginLeft:o%2===0?"0px":"16px",cursor:i.has_created?"not-allowed":"pointer",width:"100%",paddingTop:"12px",paddingBottom:"12px",background:"bg_secondary",border:"1px solid",borderColor:i.fee===(a==null?void 0:a.fee)?"border_select":"bg_secondary",onClick:()=>{!i.has_created&&i.fee!==(a==null?void 0:a.fee)&&n(i)},sx:{"@media screen and (max-width: 810px)":{ml:"0"}},children:e.jsxs(Q,{display:"flex",alignItems:"center",justifyContent:"space-between",sx:{"@media screen and (max-width: 810px)":{w:"100%"}},children:[e.jsxs(S,{children:[e.jsxs(h,{children:[e.jsxs(x,{color:"text_caption",children:[i.fee,"%"]}),i.fee===(a==null?void 0:a.fee)&&e.jsx(X,{xlinkHref:"#icon-icon_tick",marginLeft:"3px"})]}),e.jsx(x,{marginTop:"6px",fontSize:"sm",children:i.text})]}),e.jsx(x,{fontSize:"sm",children:i.has_created?"Created":"Not created"})]})})},o))})]})}function ke(){const{token0:a,token1:n,minPriceData:t,maxPriceData:i,inputPriceData:o,tokenAmount0:s,tokenAmount1:l,isFixTokenAmount0:r,saveTokenAmount:c,saveIsFixTokenAmount0:d,priceDirection:p,saveLiquidityInputResult:u,isValidRange:m}=F(),{toeknBalanceValue:k}=xe(),{getCointAmountValue:v}=De();f.useEffect(()=>{c(!0,""),c(!1,""),u(void 0)},[t,i]),f.useEffect(()=>{r?K(s)?b(s,!0):(c(!1,""),u(void 0)):K(l)?b(l,!0):(c(!0,""),u(void 0))},[s,l]);const A=(g,T)=>{d(g),c(g,T)},_=f.useMemo(()=>s&&Number(s)>0&&a?v(s,a.metadata,2,!0).toString():"0.00",[s,a]),j=f.useMemo(()=>l&&Number(l)>0&&n?v(l,n.metadata,2,!0).toString():"0.00",[l,n]),b=(g,T=!1)=>{if(a&&n&&o&&t&&i){const I=o.tokenA.metadata!==a.metadata;let C=o,M=t,R=i;I&&(console.log("进行反向",{inputPriceData:o.toStringJson(),maxPriceData:i.toStringJson(),minPriceData:t.toStringJson()}),C=o.getInversePrice(),M=i.getInverseTickPrice(),R=t.getInverseTickPrice());const $=U(g,(r?a:n).decimals).toFixed(0);console.log("estLiquidityAndcoinAmountFromOneAmounts: ",{fixMinPriceData:M.toStringJson(),fixMaxPriceData:R.toStringJson(),fixInputPriceData:C.toStringJson(),fixAmount:$});const L=pe.estLiquidityAndcoinAmountFromOneAmounts(M.tick,R.tick,new Ie($),r,!0,.01,C.getSqrtPrice()),z=H(L.tokenMaxA.toString(),a.decimals).toString(),N=H(L.tokenMaxB.toString(),n.decimals).toString();console.log("计算结果: ",{isReverse:I,coinAmountA:z,coinAmounB:N,tokenA:a.symbol,tokenB:n.symbol,isFixAmount0:r});const q={liquidityInput:L,inputPriceData:C,minPriceData:M,maxPriceData:R};return T&&(u(q),c(!r,r?N:z)),q}};return{token0:a,token1:n,calculateTokenAmount:b,toeknBalanceValue:k,onAmountChange:A,tokenAmount0:s,tokenAmount1:l,tokenAmount0Value:_,tokenAmount1Value:j,isValidRange:m}}function mt(a){const{token0:n,token1:t,saveToken0:i,saveToken1:o,feeTier:s,saveFeeTier:l,inputPriceData:r,minPriceData:c,maxPriceData:d,tokenAmount0:p,tokenAmount1:u,clearInputData:m,liquidityInputResult:k,saveMinPriceData:v,saveMaxPriceData:A}=F(),[_,j]=f.useState(!1),b=Me(),{address:g}=me(),{toeknBalanceValue:T,fetchTokenBalances:I}=xe(),{tucanaSpotSDK:C}=Re(),{signAndExecuteTransaction:M}=Fe();$e();const{tokenAmount0Value:R,tokenAmount1Value:Y}=ke();f.useEffect(()=>{m()},[!0]);const $=f.useMemo(()=>{var P;return((P=c==null?void 0:c.uiPrice)==null?void 0:P.trim())==="0"&&(d==null?void 0:d.uiPrice)===Le},[c==null?void 0:c.uiPrice,d==null?void 0:d.uiPrice]),L=()=>{i(),o(),v(),A()},z=f.useMemo(()=>{if(!n||!t)return j(!1),{ceateBtnText:"Select a token",ceateBtnDisable:!0};if(a===0)return j(!0),s===void 0?{ceateBtnText:"Select FeeTier",ceateBtnDisable:!0}:{ceateBtnText:"Next",ceateBtnDisable:!1};if(!r)return{ceateBtnText:"Enter starting price",ceateBtnDisable:!0};if(a===1)return{ceateBtnText:"Next",ceateBtnDisable:!1};if(!$){if(!c||!d)return{ceateBtnText:"Select Range",ceateBtnDisable:!0};if(!(r.tick<d.tick&&r.tick>c.tick))return{ceateBtnText:"Invalid range",ceateBtnDisable:!0}}if(a===2)return{ceateBtnText:"Next",ceateBtnDisable:!1};if(!g)return{ceateBtnText:"Connect Wallet",ceateBtnDisable:!1};if(a===3){if(p.length===0||u.length===0||Number(p)===0||Number(u)===0)return{ceateBtnText:"Enter an amount",ceateBtnDisable:!0};if(y(T(n.metadata)).lessThan(U(p,n.decimals)))return{ceateBtnText:`Insufficient ${n==null?void 0:n.symbol} balance`,ceateBtnDisable:!0};if(y(T(t.metadata)).lessThan(U(u,t.decimals)))return{ceateBtnText:`Insufficient ${t==null?void 0:t.symbol} balance`,ceateBtnDisable:!0}}return{ceateBtnText:"Create Pool",ceateBtnDisable:!1}},[n,t,s,g,r,$,c==null?void 0:c.price,d==null?void 0:d.tick,p,u,a]);f.useEffect(()=>{b(`/pools/create/${n==null?void 0:n.metadata}/${t==null?void 0:t.metadata}/${s==null?void 0:s.feeTier}`,{replace:!0})},[n,t,s]);const{failedTsToast:N}=ze(),q=async()=>{if(k){const{inputPriceData:P,minPriceData:O,maxPriceData:Te,liquidityInput:B}=k,Z=B.fix_amount_a?B.coinAmountA.toString():B.tokenMaxA.toString(),ee=B.fix_amount_a?B.tokenMaxB.toString():B.coinAmountB.toString(),te={tick_spacing:s.tick_spacing,uri:"",initialize_sqrt_price:P.getSqrtPrice().toString(),tick_lower:O.tick,tick_upper:Te.tick,fix_amount_a:B.fix_amount_a,amount_a:Z,amount_b:ee,metadata_a:n.metadata,metadata_b:t.metadata};if(console.log("cerate pool : ",{params:te}),await C.Pool.hasPoolCreated(n.metadata,t.metadata,s.tick_spacing)){N({title:"Transaction failed",description:"The pool has already been created"});return}const ne=C.Pool.createPoolPaylod(te);console.log("cerate pool : ",{payload:ne});const ae=await M([ne],{action:Ve.CreatePool,description:`Create ${n.symbol}-${t.symbol} ${s==null?void 0:s.fee}% pool`,coinA:{...P.tokenA,amount:ie(Z,n.decimals).toString()},coinB:{...P.tokenB,amount:ie(ee,t.decimals).toString()}});return ae.isSuccess&&setTimeout(()=>{C.Pool.getPoolList(),I()},2e3),ae}},be=()=>{let P="0.00";try{P=y(R).add(Y).toFixed(2)}catch(O){console.log(O),P="--"}return{token0:n,token1:t,tokenAmount0:p,tokenAmount1:u,priceMin:c.uiPrice,priceMax:d.uiPrice,feeTier:s.fee,price:(n==null?void 0:n.metadata)===(r==null?void 0:r.tokenA.metadata)?(r==null?void 0:r.uiPrice)||"0":(r==null?void 0:r.getInversePrice().uiPrice)||"0",totalAmountValue:P}};return{token0:n,token1:t,saveToken0:i,saveToken1:o,showFeeTier:_,feeTier:s,saveFeeTier:l,inputPriceData:r,minPriceData:c,maxPriceData:d,tokenAmount0:p,tokenAmount1:u,ceateBtnText:z.ceateBtnText,ceateBtnDisable:z.ceateBtnDisable,handleCreatePoolSubmit:q,getCreateConfirmModalData:be,handleClearData:L}}function ft(){const{token0:a,token1:n,inputPriceData:t,saveInputPriceData:i,priceDirection:o,savePriceDirection:s}=F();f.useEffect(()=>{s(w.forward),i(void 0)},[a,n]);const l=f.useMemo(()=>!!t,[t]),r=()=>{if(t&&a&&n){const u=y(1).div(t.price).toString();o===w.forward?(i(D.buildPriceData(u,n,a)),s(w.reverse)):(s(w.forward),i(t.getInversePrice()))}},c=(u,m)=>{const k=u.target.value;K(k)&&a&&n?t?(t.updatePrice(k,m),i(t)):o===w.forward?i(D.buildPriceData(k,a,n)):i(D.buildPriceData(k,n,a)):i(void 0),console.log("inputPriceData",t,o)},d=f.useMemo(()=>o===w.reverse?`${a==null?void 0:a.symbol} per ${n==null?void 0:n.symbol}`:`${n==null?void 0:n.symbol} per ${a==null?void 0:a.symbol}`,[n,a,o]),p=f.useMemo(()=>{var u,m;return t?`1 ${(u=t.tokenA)==null?void 0:u.symbol} = ${t.uiPrice} ${(m=t.tokenB)==null?void 0:m.symbol}`:""},[t==null?void 0:t.price,o]);return{inputPriceData:t,handlePriceChange:c,priceDirection:o,handleSwitchPriceDirection:r,showConversionUi:l,priceLabelText:d,priceRateText:p}}function ht(){const{inputPriceData:a,priceLabelText:n,priceRateText:t,handlePriceChange:i,showConversionUi:o,handleSwitchPriceDirection:s}=ft();return e.jsxs(S,{style:{width:"100%",marginTop:"26px"},children:[e.jsxs(h,{justifyContent:"space-between",children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Set Initial Price"}),o&&e.jsxs(h,{children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:t}),e.jsx(X,{xlinkHref:"#icon-icon_swap",marginLeft:"3px",onClick:s})]})]}),e.jsxs(Ee,{marginTop:"8px",children:[e.jsx(fe,{placeholder:"0.0",value:(a==null?void 0:a.uiPrice)||"",variant:"outline",onChange:l=>{i(l,!1)},onBlur:l=>{i(l,!0)}}),e.jsx(Ne,{children:e.jsx(x,{mr:"10px",children:n})})]})]})}function je(){const{token0:a,token1:n,inputPriceData:t,minPriceData:i,maxPriceData:o,saveMinPriceData:s,saveMaxPriceData:l,feeTier:r,priceDirection:c,isValidRange:d}=F(),{isFullRange:p,handleMinPriceClick:u,handleMaxPriceClick:m,onInputPriceChange:k}=ct({minPriceData:i,maxPriceData:o,saveMinPriceData:s,saveMaxPriceData:l,token0:a,token1:n,tickSpacing:r==null?void 0:r.tick_spacing}),v=j=>{if(r&&a&&n){const b=c===w.forward?a:n,g=c===w.forward?n:a;j?(s(D.buildMinTickPriceData(r.tick_spacing,b,g)),l(D.buildMaxTickPriceData(r.tick_spacing,b,g))):t?(s(D.buildTickPriceData(y(t.price).mul(.8).toString(),r.tick_spacing,b,g)),l(D.buildTickPriceData(y(t.price).mul(1.2).toString(),r.tick_spacing,b,g))):(s(void 0),l(void 0))}else s(void 0),l(void 0)};f.useEffect(()=>{v(p)},[t==null?void 0:t.tick,r]);const A=()=>{v(!p)},_=f.useMemo(()=>{if(i&&o&&t&&a&&n){const j=i.tokenA.symbol,b=i.tokenB.symbol;let g=0,T=0;if(p)g=50,T=50;else if(y(i.tick).greaterThanOrEqualTo(t.tick))T=100;else if(y(o.tick).lessThanOrEqualTo(t.tick))g=100;else{const I=qe.priceToSqrtPriceX64(y(t.price),i.tokenA.decimals,i.tokenB.decimals),C=pe.calculateDepositRatioFixTokenA(i.tick,o.tick,I);g=Number(C.ratioA.mul(100).toFixed(0)),T=100-g}return[{symbol:j,ratio:g},{symbol:b,ratio:T}]}return[]},[i==null?void 0:i.price,o==null?void 0:o.price,t==null?void 0:t.tick]);return{minPriceData:i,maxPriceData:o,handleMinPriceClick:u,handleMaxPriceClick:m,isFullRange:p,handleFullRangeChange:A,depositRatios:_,onInputPriceChange:k,isValidRange:d}}function gt(){const{minPriceData:a,maxPriceData:n,handleMinPriceClick:t,handleMaxPriceClick:i,isFullRange:o,handleFullRangeChange:s,onInputPriceChange:l,isValidRange:r}=je();return e.jsxs(S,{style:{width:"100%",marginTop:"26px"},children:[e.jsxs(h,{justifyContent:"space-between",children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Select Range"}),e.jsxs(h,{children:[e.jsx(He,{mr:"4px",isChecked:o,onChange:s}),e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Full Range"})]})]}),e.jsx("div",{style:{height:"8px"}}),e.jsx(lt,{min_price:(a==null?void 0:a.uiPrice)||"",max_price:(n==null?void 0:n.uiPrice)||"",handleMinPriceActoin:t,handleMaxPriceActoin:i,onInputPriceChange:l,isFullRange:o,direction:"row"}),!r()&&e.jsx(x,{color:"error",fontSize:"12px",mt:"8px",children:"To create a new pool, the initial price you set must be within your price range."})]})}function kt(){const{token0:a,token1:n,toeknBalanceValue:t,tokenAmount0:i,tokenAmount1:o,onAmountChange:s,tokenAmount0Value:l,tokenAmount1Value:r,isValidRange:c}=ke(),d=!c();return e.jsxs(S,{mt:"26px",style:{width:"100%"},children:[e.jsx(x,{fontSize:"xs",color:"text_paragraph",children:"Deposit Amounts"}),e.jsxs(h,{width:"100%",gap:"16px",mt:"8px",sx:{"@media screen and (max-width: 810px)":{flexDirection:"column"}},children:[a&&e.jsxs(S,{position:"relative",w:"100%",children:[d&&e.jsx(re,{notHaveText:!0}),e.jsx(le,{coin:a,balance:H(t(a.metadata),a.decimals).toString(),amount:i,amountValue:l||"",onAmountChange:function(p){s(!0,p)}})]}),n&&e.jsxs(S,{position:"relative",w:"100%",children:[d&&e.jsx(re,{notHaveText:!0}),e.jsx(le,{coin:n,balance:H(t(n.metadata),n.decimals).toString(),amount:o,amountValue:r||"",onAmountChange:function(p){s(!1,p)}})]})]})]})}function le(a){const{coin:n,balance:t,amount:i,amountValue:o,onAmountChange:s}=a;return e.jsx(E,{width:"100%",pt:"8px",pb:"8px",backgroundColor:"input_bg",children:e.jsx(Q,{children:e.jsxs(h,{justifyContent:"space-between",alignItems:"center",gap:"8px",children:[e.jsxs(h,{direction:"column",children:[e.jsx(fe,{placeholder:"0.0",value:i,onChange:l=>{const r=l.target.value.replace(/[^\d.]+|(\..*)\./g,"$1");s(r||"")}}),e.jsxs(x,{fontSize:"sm",children:["$",oe(o)]})]}),e.jsxs(h,{direction:"column",alignItems:"end",children:[e.jsxs(h,{gap:"8px",children:[e.jsx(he,{imageUrl:n.image,w:"24px"}),e.jsx(x,{fontSize:"2xl",color:"text_caption",children:n.symbol})]}),e.jsxs(h,{justifyContent:"center",onClick:()=>{s(t)},children:[e.jsx(X,{xlinkHref:"#icon-icon_wallet",marginLeft:"4px"}),e.jsxs(x,{fontSize:"sm",style:{cursor:"pointer"},children:["$",oe(t)]})]})]})]})})})}function jt(a){const{isOpen:n,onClose:t,onClick:i}=a,{token0:o,token1:s,tokenAmount0:l,tokenAmount1:r,price:c,priceMin:d,priceMax:p,totalAmountValue:u,feeTier:m}=a.data;return e.jsxs(Oe,{isOpen:n,onClose:t,isCentered:!0,children:[e.jsx(Je,{}),e.jsxs(Ge,{children:[e.jsx(Ke,{children:"Review Create"}),e.jsx(Ue,{}),e.jsx(We,{pb:"16px",children:e.jsxs(Qe,{w:"100%",children:[e.jsxs(se,{w:"100%",gap:"20px",mt:"16px",children:[e.jsx(ue,{leftText:`${l} ${o.symbol}`,icon:o.image,showTag:o.isImport||!1}),e.jsx(ue,{leftText:`${r} ${s.symbol}`,icon:s.image,showTag:s.isImport||!1})]}),e.jsxs(V,{w:"100%",borderRadius:"8px",bg:"bg_secondary",mt:"30px",p:"10px",justifyContent:"space-between",gap:"3px",children:[e.jsx(x,{children:"Price Range"}),e.jsx(x,{color:"text_caption",children:`${d} - ${p}`})]}),e.jsxs(se,{w:"100%",gap:"16px",mt:"20px",children:[e.jsx(G,{leftText:"Fee Tier",rightText:`${m}%`}),e.jsx(G,{leftText:"Initial Price",rightText:c}),e.jsx(G,{leftText:"Total Amount",rightText:`$${u}`})]}),e.jsx(ge,{size:"lg",w:"100%",mt:"20px",onClick:i,children:"Create and Add Liquidity"})]})})]})]})}function ue(a){const{leftText:n,icon:t,showTag:i}=a;return e.jsxs(V,{justifyContent:"space-between",children:[e.jsx(x,{fontSize:"2xl",color:"text_caption",children:n}),e.jsx(he,{width:"32px",height:"32px",imageUrl:t,showTag:i})]})}function G(a){const{leftText:n,rightText:t,right:i}=a;return e.jsxs(V,{justifyContent:"space-between",children:[e.jsx(x,{children:n}),t&&e.jsx(x,{color:"text_caption",children:t}),i&&i]})}function bt(a){const{setpIndex:n,setStepIndex:t}=a,[i,o]=f.useState(!1),{ceateBtnText:s,ceateBtnDisable:l,showFeeTier:r,token0:c,token1:d,saveToken0:p,saveToken1:u,handleCreatePoolSubmit:m,getCreateConfirmModalData:k,handleClearData:v}=mt(n),{address:A,onboard:_}=me();return f.useEffect(()=>{(!c||!d)&&t(0)},[c,d]),e.jsx(E,{style:{width:"100%"},children:e.jsxs(Q,{children:[e.jsxs(h,{justifyContent:"space-between",alignItems:"center",children:[e.jsx(x,{fontSize:"md",color:"text_caption",children:"Create New Pool"}),e.jsx(x,{fontSize:"xs",color:"primary",style:{cursor:"pointer"},onClick:()=>{v()},children:"Clear all"})]}),e.jsx(S,{bg:"border",style:{width:"100%",height:"1px",marginTop:"20px"}}),e.jsx("div",{style:{height:"26px"}}),n>=0&&e.jsx(dt,{}),r&&e.jsx(pt,{}),n>=1&&e.jsx(ht,{}),n>=2&&e.jsx(gt,{}),n>=3&&e.jsx(kt,{}),e.jsx("div",{style:{width:"100%",textAlign:"center",marginTop:"38px"},children:e.jsx(ge,{isDisabled:l,size:"lg",width:"60%",onClick:()=>{if(n===3){if(!A){_();return}o(!0)}else t(n+1)},sx:{"@media screen and (max-width: 1280px)":{w:"100%"}},children:s})}),i&&e.jsx(jt,{isOpen:i,onClick:()=>{m().then(j=>{j!=null&&j.isSuccess&&t(0)}),o(!1)},onClose:()=>o(!1),data:k()})]})})}function Tt(a){const{depositRatios:n}=je();if(n.length===0||a.stepIndex<2)return e.jsx(e.Fragment,{});const t=[{name:"Group A",value:Number(n[0].ratio)},{name:"Group B",value:Number(n[1].ratio)}],i=["#A6DEEB","#0EC8A8"];return e.jsxs(E,{w:"100%",style:{paddingLeft:"16px"},children:[e.jsx(x,{fontSize:"sm",children:"Deposit Ratio"}),e.jsx(Xe,{width:180,height:150,children:e.jsx(Ye,{data:t,cx:"50%",cy:"50%",labelLine:!1,innerRadius:25,outerRadius:60,dataKey:"value",stroke:"var(--chakra-colors-select_token_bg)",children:t.map((o,s)=>e.jsx(Ze,{fill:i[s%i.length]},`cell-${s}`))})}),e.jsxs(h,{justifyContent:"space-between",gap:"8px",children:[e.jsxs(h,{alignItems:"center",gap:"8px",children:[e.jsx(W,{ml:"1",w:"12px",h:"12px",backgroundColor:"primary",borderRadius:"20px"}),e.jsx(x,{color:"text_caption",children:n[0].symbol})]}),e.jsxs(x,{color:"text_caption",children:[n[0].ratio,"%"]})]}),e.jsxs(h,{justifyContent:"space-between",gap:"8px",children:[e.jsxs(h,{alignItems:"center",gap:"8px",children:[e.jsx(W,{ml:"1",w:"12px",h:"12px",backgroundColor:"success",borderRadius:"20px"}),e.jsx(x,{color:"text_caption",children:n[1].symbol})]}),e.jsxs(x,{color:"text_caption",children:[n[1].ratio,"%"]})]})]})}function St(a){const{setpIndex:n}=a,t=[{title:"Select Pool",description:"Contact Info"},{title:"Set Initial Price",description:"Date & Time"},{title:"Select Range",description:"Select Rooms"},{title:"Add Liquidity",description:"Select Rooms"}];return et({index:n,count:t.length}),e.jsx(S,{style:{width:"100%"},children:e.jsx(E,{style:{paddingLeft:"16px"},children:e.jsx(tt,{index:n,orientation:"vertical",gap:"0",children:t.map((i,o)=>e.jsxs(nt,{children:[e.jsx(at,{children:e.jsx(it,{complete:e.jsx(J,{}),incomplete:e.jsx(J,{}),active:e.jsx(J,{})})}),e.jsx(S,{flexShrink:"0",children:e.jsx(ot,{children:i.title})}),n>o&&e.jsx(st,{})]},o))})})})}function At(){const[a,n]=f.useState(0);return f.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs(h,{w:"100%",maxW:"100%",p:"10px 0px 0px",boxSizing:"content-box",direction:"column",children:[e.jsx(rt,{}),e.jsxs(V,{mt:"18px",backdropFilter:"blur(10px)",align:"flex-start",sx:{"@media screen and (max-width: 810px)":{display:"flex",flexDirection:"column"}},children:[e.jsxs(h,{width:"280px",direction:"column",gap:"8px",sx:{"@media screen and (max-width: 810px)":{width:"100%"}},children:[e.jsx(St,{setpIndex:a}),e.jsx(Tt,{stepIndex:a})]}),e.jsx(bt,{setpIndex:a,setStepIndex:function(t){n(t)}})]})]})}export{At as default};
