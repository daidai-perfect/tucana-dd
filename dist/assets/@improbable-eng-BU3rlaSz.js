var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}function P(y){if(y.__esModule)return y;var C=y.default;if(typeof C=="function"){var m=function w(){return this instanceof w?Reflect.construct(C,arguments,this.constructor):C.apply(this,arguments)};m.prototype=C.prototype}else m={};return Object.defineProperty(m,"__esModule",{value:!0}),Object.keys(y).forEach(function(w){var b=Object.getOwnPropertyDescriptor(y,w);Object.defineProperty(m,w,b.get?b:{enumerable:!0,get:function(){return y[w]}})}),m}var O={exports:{}};(function(y,C){(function(m,w){y.exports=w()})(k,function(){return m={418:function(b,a){(function(u,n){for(var l in n)u[l]=n[l]})(a,function(u){var n={};function l(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return u[r].call(i.exports,i,i.exports,l),i.l=!0,i.exports}return l.m=u,l.c=n,l.i=function(r){return r},l.d=function(r,i,f){l.o(r,i)||Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:f})},l.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return l.d(i,"a",i),i},l.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},l.p="",l(l.s=1)}([function(u,n,l){Object.defineProperty(n,"__esModule",{value:!0});var r=l(3),i=function(){function f(s,o){s===void 0&&(s={}),o===void 0&&(o={splitValues:!1});var p,d=this;this.headersMap={},s&&(typeof Headers<"u"&&s instanceof Headers?r.getHeaderKeys(s).forEach(function(e){r.getHeaderValues(s,e).forEach(function(t){o.splitValues?d.append(e,r.splitHeaderValue(t)):d.append(e,t)})}):typeof(p=s)=="object"&&typeof p.headersMap=="object"&&typeof p.forEach=="function"?s.forEach(function(e,t){d.append(e,t)}):typeof Map<"u"&&s instanceof Map?s.forEach(function(e,t){d.append(t,e)}):typeof s=="string"?this.appendFromString(s):typeof s=="object"&&Object.getOwnPropertyNames(s).forEach(function(e){var t=s[e];Array.isArray(t)?t.forEach(function(c){d.append(e,c)}):d.append(e,t)}))}return f.prototype.appendFromString=function(s){for(var o=s.split(`\r
`),p=0;p<o.length;p++){var d=o[p],e=d.indexOf(":");if(e>0){var t=d.substring(0,e).trim(),c=d.substring(e+1).trim();this.append(t,c)}}},f.prototype.delete=function(s,o){var p=r.normalizeName(s);if(o===void 0)delete this.headersMap[p];else{var d=this.headersMap[p];if(d){var e=d.indexOf(o);e>=0&&d.splice(e,1),d.length===0&&delete this.headersMap[p]}}},f.prototype.append=function(s,o){var p=this,d=r.normalizeName(s);Array.isArray(this.headersMap[d])||(this.headersMap[d]=[]),Array.isArray(o)?o.forEach(function(e){p.headersMap[d].push(r.normalizeValue(e))}):this.headersMap[d].push(r.normalizeValue(o))},f.prototype.set=function(s,o){var p=r.normalizeName(s);if(Array.isArray(o)){var d=[];o.forEach(function(e){d.push(r.normalizeValue(e))}),this.headersMap[p]=d}else this.headersMap[p]=[r.normalizeValue(o)]},f.prototype.has=function(s,o){var p=this.headersMap[r.normalizeName(s)];if(!Array.isArray(p))return!1;if(o!==void 0){var d=r.normalizeValue(o);return p.indexOf(d)>=0}return!0},f.prototype.get=function(s){var o=this.headersMap[r.normalizeName(s)];return o!==void 0?o.concat():[]},f.prototype.forEach=function(s){var o=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(p){s(p,o.headersMap[p])},this)},f.prototype.toHeaders=function(){if(typeof Headers<"u"){var s=new Headers;return this.forEach(function(o,p){p.forEach(function(d){s.append(o,d)})}),s}throw new Error("Headers class is not defined")},f}();n.BrowserHeaders=i},function(u,n,l){Object.defineProperty(n,"__esModule",{value:!0});var r=l(0);n.BrowserHeaders=r.BrowserHeaders},function(u,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.iterateHeaders=function(r,i){for(var f=r[Symbol.iterator](),s=f.next();!s.done;)i(s.value[0]),s=f.next()},n.iterateHeadersKeys=function(r,i){for(var f=r.keys(),s=f.next();!s.done;)i(s.value),s=f.next()}},function(u,n,l){Object.defineProperty(n,"__esModule",{value:!0});var r=l(2);n.normalizeName=function(i){if(typeof i!="string"&&(i=String(i)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(i))throw new TypeError("Invalid character in header field name");return i.toLowerCase()},n.normalizeValue=function(i){return typeof i!="string"&&(i=String(i)),i},n.getHeaderValues=function(i,f){var s=i;if(s instanceof Headers&&s.getAll)return s.getAll(f);var o=s.get(f);return o&&typeof o=="string"?[o]:o},n.getHeaderKeys=function(i){var f=i,s={},o=[];return f.keys?r.iterateHeadersKeys(f,function(p){s[p]||(s[p]=!0,o.push(p))}):f.forEach?f.forEach(function(p,d){s[d]||(s[d]=!0,o.push(d))}):r.iterateHeaders(f,function(p){var d=p[0];s[d]||(s[d]=!0,o.push(d))}),o},n.splitHeaderValue=function(i){var f=[];return i.split(", ").forEach(function(s){s.split(",").forEach(function(o){f.push(o)})}),f}}]))},617:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.ChunkParser=a.ChunkType=a.encodeASCII=a.decodeASCII=void 0;var n,l=u(65);function r(e){return(t=e)===9||t===10||t===13||e>=32&&e<=126;var t}function i(e){for(var t=0;t!==e.length;++t)if(!r(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function f(e){return(128&e.getUint8(0))==128}function s(e){return e.getUint32(1,!1)}function o(e,t,c){return e.byteLength-t>=c}function p(e,t,c){if(e.slice)return e.slice(t,c);var h=e.length;c!==void 0&&(h=c);for(var g=new Uint8Array(h-t),v=0,E=t;E<h;E++)g[v++]=e[E];return g}a.decodeASCII=i,a.encodeASCII=function(e){for(var t=new Uint8Array(e.length),c=0;c!==e.length;++c){var h=e.charCodeAt(c);if(!r(h))throw new Error("Metadata contains invalid ASCII");t[c]=h}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(n=a.ChunkType||(a.ChunkType={}));var d=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(t,c){if(t.length===0&&c)return[];var h,g=[];if(this.buffer==null)this.buffer=t,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=t,this.position=0;else{var v=this.buffer.byteLength-this.position,E=new Uint8Array(v+t.byteLength),R=p(this.buffer,this.position);E.set(R,0);var _=new Uint8Array(t);E.set(_,v),this.buffer=E,this.position=0}for(;;){if(!o(this.buffer,this.position,5))return g;var H=p(this.buffer,this.position,this.position+5),S=new DataView(H.buffer,H.byteOffset,H.byteLength),M=s(S);if(!o(this.buffer,this.position,5+M))return g;var T=p(this.buffer,this.position+5,this.position+5+M);if(this.position+=5+M,f(S))return g.push({chunkType:n.TRAILERS,trailers:(h=T,new l.Metadata(i(h)))}),g;g.push({chunkType:n.MESSAGE,data:T})}},e}();a.ChunkParser=d},8:function(b,a){var u;Object.defineProperty(a,"__esModule",{value:!0}),a.httpStatusToCode=a.Code=void 0,function(n){n[n.OK=0]="OK",n[n.Canceled=1]="Canceled",n[n.Unknown=2]="Unknown",n[n.InvalidArgument=3]="InvalidArgument",n[n.DeadlineExceeded=4]="DeadlineExceeded",n[n.NotFound=5]="NotFound",n[n.AlreadyExists=6]="AlreadyExists",n[n.PermissionDenied=7]="PermissionDenied",n[n.ResourceExhausted=8]="ResourceExhausted",n[n.FailedPrecondition=9]="FailedPrecondition",n[n.Aborted=10]="Aborted",n[n.OutOfRange=11]="OutOfRange",n[n.Unimplemented=12]="Unimplemented",n[n.Internal=13]="Internal",n[n.Unavailable=14]="Unavailable",n[n.DataLoss=15]="DataLoss",n[n.Unauthenticated=16]="Unauthenticated"}(u=a.Code||(a.Code={})),a.httpStatusToCode=function(n){switch(n){case 0:return u.Internal;case 200:return u.OK;case 400:return u.InvalidArgument;case 401:return u.Unauthenticated;case 403:return u.PermissionDenied;case 404:return u.NotFound;case 409:return u.Aborted;case 412:return u.FailedPrecondition;case 429:return u.ResourceExhausted;case 499:return u.Canceled;case 500:return u.Unknown;case 501:return u.Unimplemented;case 503:return u.Unavailable;case 504:return u.DeadlineExceeded;default:return u.Unknown}}},934:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.client=void 0;var n=u(65),l=u(617),r=u(8),i=u(346),f=u(57),s=u(882);a.client=function(d,e){return new o(d,e)};var o=function(){function d(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new l.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return d.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=f.makeDefaultTransport(t)},d.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&i.debug("onHeaders",e,t),this.closed)this.props.debug&&i.debug("grpc.onHeaders received after request was closed - ignoring");else if(t!==0){this.responseHeaders=e,this.props.debug&&i.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var c=p(e);this.props.debug&&i.debug("onHeaders.gRPCStatus",c);var h=c&&c>=0?c:r.httpStatusToCode(t);this.props.debug&&i.debug("onHeaders.code",h);var g=e.get("grpc-message")||[];if(this.props.debug&&i.debug("onHeaders.gRPCMessage",g),this.rawOnHeaders(e),h!==r.Code.OK){var v=this.decodeGRPCStatus(g[0]);this.rawOnError(h,v,e)}}},d.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&i.debug("grpc.onChunk received after request was closed - ignoring");else{var c=[];try{c=this.parser.parse(e)}catch(h){return this.props.debug&&i.debug("onChunk.parsing error",h,h.message),void this.rawOnError(r.Code.Internal,"parsing error: "+h.message)}c.forEach(function(h){if(h.chunkType===l.ChunkType.MESSAGE){var g=t.methodDefinition.responseType.deserializeBinary(h.data);t.rawOnMessage(g)}else h.chunkType===l.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new n.Metadata(h.trailers),t.props.debug&&i.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new n.Metadata(h.trailers),t.rawOnHeaders(t.responseHeaders)))})}},d.prototype.onTransportEnd=function(){if(this.props.debug&&i.debug("grpc.onEnd"),this.closed)this.props.debug&&i.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var e=p(this.responseTrailers);if(e!==null){var t=this.responseTrailers.get("grpc-message"),c=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,c,this.responseTrailers)}else this.rawOnError(r.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(r.Code.Unknown,"Response closed without headers");var h=p(this.responseHeaders),g=this.responseHeaders.get("grpc-message");if(this.props.debug&&i.debug("grpc.headers only response ",h,g),h===null)return void this.rawOnEnd(r.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var v=this.decodeGRPCStatus(g[0]);this.rawOnEnd(h,v,this.responseHeaders)}},d.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch{return e}},d.prototype.rawOnEnd=function(e,t,c){var h=this;this.props.debug&&i.debug("rawOnEnd",e,t,c),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(g){if(!h.closed)try{g(e,t,c)}catch(v){setTimeout(function(){throw v},0)}}))},d.prototype.rawOnHeaders=function(e){this.props.debug&&i.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach(function(t){try{t(e)}catch(c){setTimeout(function(){throw c},0)}})},d.prototype.rawOnError=function(e,t,c){var h=this;c===void 0&&(c=new n.Metadata),this.props.debug&&i.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(g){if(!h.closed)try{g(e,t,c)}catch(v){setTimeout(function(){throw v},0)}}))},d.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&i.debug("rawOnMessage",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(c){if(!t.closed)try{c(e)}catch(h){setTimeout(function(){throw h},0)}})},d.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},d.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},d.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},d.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new n.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},d.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=s.frameRequest(e);this.transport.sendMessage(t)},d.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},d.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&i.debug("request.abort aborting request"),this.transport.cancel()},d}();function p(d){var e=d.get("grpc-status")||[];if(e.length>0)try{var t=e[0];return parseInt(t,10)}catch{return null}return null}},346:function(b,a){Object.defineProperty(a,"__esModule",{value:!0}),a.debug=void 0,a.debug=function(){for(var u=[],n=0;n<arguments.length;n++)u[n]=arguments[n];console.debug?console.debug.apply(null,u):console.log.apply(null,u)}},607:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.grpc=void 0;var n,l=u(418),r=u(57),i=u(229),f=u(540),s=u(210),o=u(859),p=u(8),d=u(938),e=u(35),t=u(934);(n=a.grpc||(a.grpc={})).setDefaultTransport=r.setDefaultTransportFactory,n.CrossBrowserHttpTransport=o.CrossBrowserHttpTransport,n.FetchReadableStreamTransport=i.FetchReadableStreamTransport,n.XhrTransport=s.XhrTransport,n.WebsocketTransport=f.WebsocketTransport,n.Code=p.Code,n.Metadata=l.BrowserHeaders,n.client=function(c,h){return t.client(c,h)},n.invoke=d.invoke,n.unary=e.unary},938:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.invoke=void 0;var n=u(934);a.invoke=function(l,r){if(l.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var i=n.client(l,{host:r.host,transport:r.transport,debug:r.debug});return r.onHeaders&&i.onHeaders(r.onHeaders),r.onMessage&&i.onMessage(r.onMessage),r.onEnd&&i.onEnd(r.onEnd),i.start(r.metadata),i.send(r.request),i.finishSend(),{close:function(){i.close()}}}},65:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var n=u(418);Object.defineProperty(a,"Metadata",{enumerable:!0,get:function(){return n.BrowserHeaders}})},57:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.makeDefaultTransport=a.setDefaultTransportFactory=void 0;var n=u(859),l=function(r){return n.CrossBrowserHttpTransport({withCredentials:!1})(r)};a.setDefaultTransportFactory=function(r){l=r},a.makeDefaultTransport=function(r){return l(r)}},229:function(b,a,u){var n=this&&this.__assign||function(){return(n=Object.assign||function(f){for(var s,o=1,p=arguments.length;o<p;o++)for(var d in s=arguments[o])Object.prototype.hasOwnProperty.call(s,d)&&(f[d]=s[d]);return f}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.detectFetchSupport=a.FetchReadableStreamTransport=void 0;var l=u(65),r=u(346);a.FetchReadableStreamTransport=function(f){return function(s){return function(o,p){return o.debug&&r.debug("fetchRequest",o),new i(o,p)}(s,f)}};var i=function(){function f(s,o){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=s,this.init=o}return f.prototype.pump=function(s,o){var p=this;if(this.reader=s,this.cancelled)return this.options.debug&&r.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(d){p.options.debug&&r.debug("Fetch.pump.reader.cancel exception",d)});this.reader.read().then(function(d){if(d.done)return p.options.onEnd(),o;p.options.onChunk(d.value),p.pump(p.reader,o)}).catch(function(d){p.cancelled?p.options.debug&&r.debug("Fetch.catch - request cancelled"):(p.cancelled=!0,p.options.debug&&r.debug("Fetch.catch",d.message),p.options.onEnd(d))})},f.prototype.send=function(s){var o=this;fetch(this.options.url,n(n({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:s,signal:this.controller&&this.controller.signal})).then(function(p){if(o.options.debug&&r.debug("Fetch.response",p),o.options.onHeaders(new l.Metadata(p.headers),p.status),!p.body)return p;o.pump(p.body.getReader(),p)}).catch(function(p){o.cancelled?o.options.debug&&r.debug("Fetch.catch - request cancelled"):(o.cancelled=!0,o.options.debug&&r.debug("Fetch.catch",p.message),o.options.onEnd(p))})},f.prototype.sendMessage=function(s){this.send(s)},f.prototype.finishSend=function(){},f.prototype.start=function(s){this.metadata=s},f.prototype.cancel=function(){var s=this;this.cancelled?this.options.debug&&r.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&r.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&r.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&r.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(o){s.options.debug&&r.debug("Fetch.cancel.reader.cancel exception",o)})):this.options.debug&&r.debug("Fetch.cancel before reader"))},f}();a.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.CrossBrowserHttpTransport=void 0;var n=u(229),l=u(210);a.CrossBrowserHttpTransport=function(r){if(n.detectFetchSupport()){var i={credentials:r.withCredentials?"include":"same-origin"};return n.FetchReadableStreamTransport(i)}return l.XhrTransport({withCredentials:r.withCredentials})}},210:function(b,a,u){var n,l=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(c[g]=h[g])})(e,t)},function(e,t){function c(){this.constructor=e}n(e,t),e.prototype=t===null?Object.create(t):(c.prototype=t.prototype,new c)});Object.defineProperty(a,"__esModule",{value:!0}),a.stringToArrayBuffer=a.MozChunkedArrayBufferXHR=a.XHR=a.XhrTransport=void 0;var r=u(65),i=u(346),f=u(849);a.XhrTransport=function(e){return function(t){if(f.detectMozXHRSupport())return new o(t,e);if(f.detectXHROverrideMimeTypeSupport())return new s(t,e);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var s=function(){function e(t,c){this.options=t,this.init=c}return e.prototype.onProgressEvent=function(){this.options.debug&&i.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var t=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var c=d(t);this.options.onChunk(c)},e.prototype.onLoadEvent=function(){this.options.debug&&i.debug("XHR.onLoadEvent"),this.options.onEnd()},e.prototype.onStateChange=function(){this.options.debug&&i.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new r.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},e.prototype.sendMessage=function(t){this.xhr.send(t)},e.prototype.finishSend=function(){},e.prototype.start=function(t){var c=this;this.metadata=t;var h=new XMLHttpRequest;this.xhr=h,h.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(g,v){h.setRequestHeader(g,v.join(", "))}),h.withCredentials=!!this.init.withCredentials,h.addEventListener("readystatechange",this.onStateChange.bind(this)),h.addEventListener("progress",this.onProgressEvent.bind(this)),h.addEventListener("loadend",this.onLoadEvent.bind(this)),h.addEventListener("error",function(g){c.options.debug&&i.debug("XHR.error",g),c.options.onEnd(g.error)})},e.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},e.prototype.cancel=function(){this.options.debug&&i.debug("XHR.abort"),this.xhr.abort()},e}();a.XHR=s;var o=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,e),t.prototype.configureXhr=function(){this.options.debug&&i.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},t.prototype.onProgressEvent=function(){var c=this.xhr.response;this.options.debug&&i.debug("MozXHR.onProgressEvent: ",new Uint8Array(c)),this.options.onChunk(new Uint8Array(c))},t}(s);function p(e,t){var c=e.charCodeAt(t);if(c>=55296&&c<=56319){var h=e.charCodeAt(t+1);h>=56320&&h<=57343&&(c=65536+(c-55296<<10)+(h-56320))}return c}function d(e){for(var t=new Uint8Array(e.length),c=0,h=0;h<e.length;h++){var g=String.prototype.codePointAt?e.codePointAt(h):p(e,h);t[c++]=255&g}return t}a.MozChunkedArrayBufferXHR=o,a.stringToArrayBuffer=d},849:function(b,a){var u;function n(){if(u!==void 0)return u;if(XMLHttpRequest){u=new XMLHttpRequest;try{u.open("GET","https://localhost")}catch{}}return u}function l(r){var i=n();if(!i)return!1;try{return i.responseType=r,i.responseType===r}catch{}return!1}Object.defineProperty(a,"__esModule",{value:!0}),a.detectXHROverrideMimeTypeSupport=a.detectMozXHRSupport=a.xhrSupportsResponseType=void 0,a.xhrSupportsResponseType=l,a.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&l("moz-chunked-arraybuffer")},a.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.WebsocketTransport=void 0;var n,l=u(346),r=u(617);(function(f){f[f.FINISH_SEND=1]="FINISH_SEND"})(n||(n={}));var i=new Uint8Array([1]);a.WebsocketTransport=function(){return function(f){return function(s){s.debug&&l.debug("websocketRequest",s);var o,p=function(t){if(t.substr(0,8)==="https://")return"wss://"+t.substr(8);if(t.substr(0,7)==="http://")return"ws://"+t.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(s.url),d=[];function e(t){if(t===n.FINISH_SEND)o.send(i);else{var c=t,h=new Int8Array(c.byteLength+1);h.set(new Uint8Array([0])),h.set(c,1),o.send(h)}}return{sendMessage:function(t){o&&o.readyState!==o.CONNECTING?e(t):d.push(t)},finishSend:function(){o&&o.readyState!==o.CONNECTING?e(n.FINISH_SEND):d.push(n.FINISH_SEND)},start:function(t){(o=new WebSocket(p,["grpc-websockets"])).binaryType="arraybuffer",o.onopen=function(){var c;s.debug&&l.debug("websocketRequest.onopen"),o.send((c="",t.forEach(function(h,g){c+=h+": "+g.join(", ")+`\r
`}),r.encodeASCII(c))),d.forEach(function(h){e(h)})},o.onclose=function(c){s.debug&&l.debug("websocketRequest.onclose",c),s.onEnd()},o.onerror=function(c){s.debug&&l.debug("websocketRequest.onerror",c)},o.onmessage=function(c){s.onChunk(new Uint8Array(c.data))}},cancel:function(){s.debug&&l.debug("websocket.abort"),o.close()}}}(f)}}},35:function(b,a,u){Object.defineProperty(a,"__esModule",{value:!0}),a.unary=void 0;var n=u(65),l=u(934);a.unary=function(r,i){if(r.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(r.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var f=null,s=null,o=l.client(r,{host:i.host,transport:i.transport,debug:i.debug});return o.onHeaders(function(p){f=p}),o.onMessage(function(p){s=p}),o.onEnd(function(p,d,e){i.onEnd({status:p,statusMessage:d,headers:f||new n.Metadata,message:s,trailers:e})}),o.start(i.metadata),o.send(i.request),o.finishSend(),{close:function(){o.close()}}}},882:function(b,a){Object.defineProperty(a,"__esModule",{value:!0}),a.frameRequest=void 0,a.frameRequest=function(u){var n=u.serializeBinary(),l=new ArrayBuffer(n.byteLength+5);return new DataView(l,1,4).setUint32(0,n.length,!1),new Uint8Array(l,5).set(n),new Uint8Array(l)}}},w={},function b(a){if(w[a])return w[a].exports;var u=w[a]={exports:{}};return m[a].call(u.exports,u,u.exports,b),u.exports}(607);var m,w})})(O);var x=O.exports;export{P as a,A as b,k as c,x as g};
